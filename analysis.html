<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Immersion Heater Deep-Dive Analysis</title>
<meta property="og:title" content="Immersion Heater: Why Is It Using 2x The Energy?">
<meta property="og:description" content="Deep-dive analysis of 18,240 half-hourly readings across 3 timer regimes. The 3.11 kW element runs 6.2 h/day under the current timer vs 3.4 h/day under Cozy.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://cheparukhin.github.io/octopus/analysis.html">
<meta property="og:image" content="https://cheparukhin.github.io/octopus/og-analysis.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: 'Segoe UI', system-ui, sans-serif; background:#0a0e17; color:#c8d6e5; line-height:1.6; }
.container { max-width:1200px; margin:0 auto; padding:20px; }
h1 { text-align:center; font-size:1.8em; margin:20px 0 8px; color:#fff; }
.subtitle { text-align:center; color:#7f8fa6; margin-bottom:30px; font-size:0.95em; }
.card { background:#141b2d; border-radius:12px; padding:24px; margin-bottom:24px; border:1px solid #1e2a42; }
.card h2 { color:#00d2ff; font-size:1.15em; margin-bottom:4px; }
.card .desc { color:#7f8fa6; font-size:0.85em; margin-bottom:16px; }
.chart-container { position:relative; width:100%; }
.chart-tall { height:400px; }
.chart-med { height:320px; }
.chart-short { height:260px; }
.row { display:flex; gap:24px; }
.row > .card { flex:1; min-width:0; }
.insight-box { background:#0d1321; border-left:3px solid #00d2ff; padding:14px 18px; margin:12px 0; border-radius:0 8px 8px 0; font-size:0.92em; }
.insight-box strong { color:#00d2ff; }
.calc-box { background:#0d1321; padding:14px 18px; margin:12px 0; border-radius:8px; font-family:monospace; font-size:0.85em; white-space:pre-wrap; color:#a4b0be; }
.calc-box .highlight { color:#ffd32a; }
.table-wrap { overflow-x:auto; }
table { width:100%; border-collapse:collapse; font-size:0.85em; margin:10px 0; }
th { background:#1e2a42; color:#00d2ff; padding:8px 12px; text-align:right; }
td { padding:7px 12px; border-bottom:1px solid #1e2a42; text-align:right; }
th:first-child, td:first-child { text-align:left; }
tr:hover td { background:#1a2235; }
.legend-custom { display:flex; gap:20px; flex-wrap:wrap; margin:8px 0 4px; font-size:0.82em; }
.legend-item { display:flex; align-items:center; gap:6px; }
.legend-dot { width:12px; height:12px; border-radius:3px; }
.section-num { display:inline-block; background:#00d2ff; color:#0a0e17; width:24px; height:24px; border-radius:50%; text-align:center; line-height:24px; font-size:0.8em; font-weight:700; margin-right:8px; }
@media(max-width:900px) { .row { flex-direction:column; } }
</style>
</head>
<body>
<div class="container">
<h1>Immersion Heater: Why Is It Using 2x The Energy?</h1>
<p class="subtitle">Deep-dive analysis of electricity usage data &middot; Mar 2025 &ndash; Feb 2026 &middot; 18,240 half-hourly readings &middot; 3 timer regimes identified</p>

<!-- ===== CHART 1: Monthly Decomposition ===== -->
<div class="card">
  <h2><span class="section-num">1</span>Monthly Consumption: Heater vs Everything Else</h2>
  <p class="desc">Decomposed using time-varying household baseline (built from regime-specific clean measurement windows) and the known 3.11 kW element. All times in UK local time (GMT/BST). Three regimes: <span style="color:#ff6b6b">Night-only</span> (Mar), <span style="color:#ffa502">Cozy 3-window</span> (Apr&ndash;Aug), <span style="color:#00d2ff">Current</span> (Sep onward).</p>
  <div class="chart-container chart-tall"><canvas id="chart1"></canvas></div>
  <div class="insight-box">
    <strong>Key finding:</strong> Household load (grey) is stable at ~5.5&ndash;7 kWh/day with mild seasonal variation. <strong>The entire swing is driven by the heater</strong>, which jumps from ~10 kWh/day under Night-only and Cozy to ~19 kWh/day under the Current regime in winter.
  </div>
</div>

<!-- ===== CHART 2: Element On-Time ===== -->
<div class="card">
  <h2><span class="section-num">2</span>Heater Element On-Time Per Day</h2>
  <p class="desc">Actual element run-time per day (derived from energy &divide; 3.11 kW), and heater energy per day.</p>
  <div class="chart-container chart-med"><canvas id="chart2"></canvas></div>
  <div class="table-wrap">
    <table id="elementTable">
      <thead><tr><th>Month</th><th>On-Time (h/day)</th><th>Heater kWh/day</th><th>Avg kW When On</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>
  <div class="insight-box">
    <strong>The 3.11 kW element is identical across all regimes.</strong> What changed is run-time: up to <strong>6.8 h/day</strong> in Jan 2026 vs <strong>3.1 h/day</strong> in Mar 2025. Under the Current regime the element runs ~2&times; as long as under Night-only or Cozy.
  </div>
</div>

<!-- ===== CHART 3: Half-hourly profiles ===== -->
<div class="card">
  <h2><span class="section-num">3</span>Half-Hourly Consumption Profile by Regime</h2>
  <p class="desc">Average kWh per half-hour slot across the day (UK local time). Four periods shown: Night-only (Mar), Cozy (May&ndash;Jun), Summer (Jul&ndash;Aug), Current winter (Dec&ndash;Feb).</p>
  <div class="chart-container chart-tall"><canvas id="chart3"></canvas></div>
  <div class="insight-box">
    <strong>Night-only (red):</strong> sharp spike at 20:00&ndash;22:00 local (heater in a single evening window). Rest of the day near-idle.<br>
    <strong>Cozy (orange):</strong> three distinct peaks at 04:00&ndash;06:00, 13:00&ndash;14:00, and 22:00&ndash;00:00 &mdash; matching the Cozy tariff dip windows.<br>
    <strong>Current winter (cyan):</strong> massive overnight plateau 21:00&ndash;02:00 (heater recovering after the 16&ndash;20 off-window), plus elevated baseline all day from continuous thermostat cycling.
  </div>
</div>

<!-- ===== CHART 4: Heater Firing Events by Hour ===== -->
<div class="row">
<div class="card">
  <h2><span class="section-num">4a</span>Firings: Night-only</h2>
  <p class="desc">Events &gt;1.0 kWh per day, by local hour. Mar 2025.</p>
  <div class="chart-container chart-short"><canvas id="chart4a"></canvas></div>
</div>
<div class="card">
  <h2><span class="section-num">4b</span>Firings: Cozy</h2>
  <p class="desc">Events &gt;1.0 kWh per day, by local hour. May&ndash;Jun 2025.</p>
  <div class="chart-container chart-short"><canvas id="chart4b"></canvas></div>
</div>
<div class="card">
  <h2><span class="section-num">4c</span>Firings: Current</h2>
  <p class="desc">Events &gt;1.0 kWh per day, by local hour. Dec 2025&ndash;Feb 2026.</p>
  <div class="chart-container chart-short"><canvas id="chart4c"></canvas></div>
</div>
</div>
<div class="card" style="margin-top:-12px">
  <div class="insight-box">
    <strong>Night-only:</strong> heater concentrated at 20:00&ndash;22:00 local (1.4 events/day at hour 20). Total: ~3.8 events/day in a tight evening window.<br>
    <strong>Cozy:</strong> firing split across three dip windows &mdash; 04:00&ndash;05:00, 13:00&ndash;14:00, and 22:00&ndash;23:00 local. Total: ~4.3 events/day.<br>
    <strong>Current:</strong> heater spread across 21:00&ndash;02:00 (1.0&ndash;1.2 events/hour), with a long tail of smaller firings all day. Total: ~7.8 events/day.
  </div>
</div>

<!-- ===== CHART 5: Distribution ===== -->
<div class="card">
  <h2><span class="section-num">5</span>Distribution of Half-Hourly Readings</h2>
  <p class="desc">How consumption per slot is distributed. Each bin is 0.1 kWh wide. One representative month per regime.</p>
  <div class="chart-container chart-tall"><canvas id="chart5"></canvas></div>
  <div class="insight-box">
    <strong>Night-only (red):</strong> 52% of all readings below 0.1 kWh (idle). A small tail of 1.5&ndash;2.0 kWh readings from evening heater bursts.<br>
    <strong>Cozy (orange):</strong> similar shape but slightly fewer idle readings, with heater bursts spread across 3 windows.<br>
    <strong>Current (cyan):</strong> only 4% idle. The entire distribution shifted right. A much fatter tail of 1.0&ndash;2.0 kWh readings spanning many more hours.
  </div>
</div>

<!-- ===== CHART 6: Daily timeline decomposed ===== -->
<div class="card">
  <h2><span class="section-num">6</span>Daily Consumption Timeline (Decomposed)</h2>
  <p class="desc">Stacked: heater energy (excess above hourly baseline) in cyan, household in grey. 7-day rolling average in white. Dashed lines mark regime transitions.</p>
  <div class="chart-container chart-tall"><canvas id="chart6"></canvas></div>
  <div class="insight-box">
    <strong>Three distinct phases visible.</strong> Night-only (Mar) shows moderate heater use. Cozy (Apr&ndash;Aug) is similar in total energy. The jump to the Current regime around Aug 26 is dramatic &mdash; daily totals nearly double and stay elevated through winter.
  </div>
</div>

<!-- ===== CHART 7: Lowest-consumption day profiles ===== -->
<div class="card">
  <h2><span class="section-num">7</span>Quietest Day Comparison: Three Regimes</h2>
  <p class="desc">The lowest-consumption day in each regime. These approximate the "floor" &mdash; minimal hot water draws, just standing losses + baseload.</p>
  <div class="chart-container chart-tall"><canvas id="chart7"></canvas></div>
  <div class="calc-box">Night-only quietest day: <span class="highlight">2025-04-07 (Mon) = 6.5 kWh</span>
  &bull; One brief heater burst at 21:00, otherwise ~60W idle overnight

Cozy quietest day: <span class="highlight">2025-05-05 (Mon) = 4.3 kWh</span>
  &bull; Heater barely fired (1.5 kWh total) &mdash; likely nobody home
  &bull; Long stretches at 0.03&ndash;0.04 kWh (60&ndash;80W idle)

Current quietest day: <span class="highlight">2025-11-07 (Fri) = 15.0 kWh</span>
  &bull; Heater fires in scattered bursts throughout the day (~9 kWh)
  &bull; Even on the quietest day, the Current regime uses <span class="highlight">3.5&times; the Cozy minimum</span></div>
</div>

<!-- ===== Summary calculation ===== -->
<div class="card">
  <h2><span class="section-num">8</span>The Calculation: Where The Extra Energy Goes</h2>
  <div class="calc-box"><span class="highlight">METHOD: time-varying baseline + known element power (3.11 kW)</span>
  Household baseline built from regime-specific clean measurement windows:
  &bull; Night-only: local hours 07:00&ndash;18:00 (heater off by timer)
  &bull; Cozy: local hours 07:00&ndash;12:00 and 16:00&ndash;21:00 (between dip windows)
  &bull; Current: local hours 16:00&ndash;19:00 (heater explicitly OFF by timer)
  &bull; Missing half-hours: circular interpolation
  All timestamps converted from UTC to UK local time (Europe/London).
  Baseline ranges from 130W (06:00, overnight) to 450W (19:00, peak evening).
  For each slot: excess = reading &minus; hourly baseline, capped at 1.555 kWh.

<span class="highlight">NIGHT-ONLY REGIME (Mar 2025): 15.1 kWh/day</span>
  Heater:     9.6 kWh/day  &bull;  Element run-time: 3.1 h/day
  Household:  5.5 kWh/day
  Timer: on ~19:00&ndash;23:00 local (single evening window)

<span class="highlight">COZY 3-WINDOW (May&ndash;Jun 2025): 16.1 kWh/day</span>
  Heater:    10.4 kWh/day  &bull;  Element run-time: 3.4 h/day
  Household:  5.7 kWh/day
  Timer: 3 dip windows &mdash; 04:00&ndash;07:00, 13:00&ndash;16:00, 22:00&ndash;00:00 local

<span class="highlight">SUMMER (Jul&ndash;Aug 2025): 14.6 kWh/day</span>
  Heater:     8.9 kWh/day  &bull;  Element run-time: 2.9 h/day
  Household:  5.7 kWh/day
  (Same Cozy timer, but warmer mains water &rarr; less reheat needed)

<span class="highlight">CURRENT REGIME WINTER (Dec 2025&ndash;Feb 2026): 26.3 kWh/day</span>
  Heater:    19.3 kWh/day  &bull;  Element run-time: 6.2 h/day
  Household:  7.0 kWh/day
  Timer: on ~20 h/day, off only 16:00&ndash;20:00 local

<span class="highlight">THE GAP (current winter vs cozy): +10.2 kWh/day</span>
  Heater increase:    +8.9 kWh/day  (87% of gap)  &larr; TIMER REGIME CHANGE
  Household increase: +1.3 kWh/day  (13% of gap)  &larr; SEASONAL VARIATION

<span class="highlight">WHY DOES THE SAME HEATER USE MORE ENERGY?</span>
  Night-only: element enabled ~5 h/day (single evening window)
  Cozy:       element enabled ~9 h/day (three 3-hour dip windows)
  Current:    element enabled ~20 h/day (24/7 minus 16&ndash;20)

  Night/Cozy: tank held at setpoint only during timer windows.
              Between windows, tank cooled freely. No energy consumed.
              Average tank temperature across the day: well BELOW setpoint.
              Lower avg temp &rarr; lower heat loss rate &rarr; less energy needed.

  Current:    tank held at FULL setpoint ~20 hours/day.
              Every temperature dip immediately corrected.
              Average tank temperature across the day: AT or NEAR setpoint.
              Higher avg temp &rarr; higher heat loss rate &rarr; more energy needed.

  Key insight: Night-only and Cozy use similar energy (~10 kWh/day) despite
  different timer patterns, because both limit total enabled time to &lt;9 h/day.
  The Current regime&rsquo;s 20 h/day eliminates the free temperature setback.

<span class="highlight">ELEMENT: 3.11 kW (measured). Identical across all three regimes.</span>
  It&rsquo;s not a different element. Not a changed thermostat. Not more hot water usage.
  It&rsquo;s purely more run-time: 3.1&ndash;3.4 h/day &rarr; 6.2 h/day.</div>
</div>

<!-- ===== CHART 9: Overnight heatmap ===== -->
<div class="card">
  <h2><span class="section-num">9</span>Overnight Heater Activity: Week-by-Week</h2>
  <p class="desc">Average kWh per half-hour slot during the key overnight hours (21:00&ndash;03:00 local) when the heater fires most. Stacked by hour band &mdash; each column is one week.</p>
  <div class="chart-container chart-tall"><canvas id="chart9"></canvas></div>
  <div class="insight-box">
    <strong>Night-only (far left):</strong> activity concentrated at 21:00&ndash;22:00 only. Hours 00:00&ndash;03:00 nearly empty.<br>
    <strong>Cozy (W15&ndash;W34):</strong> activity in 22:00&ndash;00:00 band (the late-evening dip window) with some overnight tail.<br>
    <strong>Current (W35 onward):</strong> activity spreads across all overnight hours. The 21:00&ndash;01:00 band lights up as the heater recovers after the 16:00&ndash;20:00 off-window, and stays elevated until 03:00.
  </div>
</div>

<!-- ===== CHART 10: Monthly cost ===== -->
<div class="card">
  <h2><span class="section-num">10</span>Monthly Cost: Heater vs Household</h2>
  <p class="desc">Electricity cost in &pound; (Agile tariff) decomposed using the 3.11 kW element model. Line shows heater share of total cost.</p>
  <div class="chart-container chart-tall"><canvas id="chart10"></canvas></div>
  <div class="insight-box">
    <strong>January 2026 peak:</strong> &pound;177.66 total &mdash; the heater alone cost <strong>&pound;130.53</strong> (74%). Under the Cozy regime (May&ndash;Jun), heater cost was &pound;50&ndash;58/month.<br>
    The Current regime roughly doubles the monthly heater bill during winter.
  </div>
</div>

<!-- ===== Section 11: The Price Tag ===== -->
<div class="card">
  <h2><span class="section-num">11</span>The Price Tag: What The Regime Change Costs</h2>
  <div class="calc-box"><span class="highlight">REGIME COMPARISON (actual measured costs on Agile tariff)</span>

  Night-only (Mar 2025):
    Total: &pound;3.18/day  &bull;  Heater: &pound;2.01/day  &bull;  Household: &pound;1.16/day

  Cozy 3-window (May&ndash;Jun 2025):
    Total: &pound;2.75/day  &bull;  Heater: &pound;1.78/day  &bull;  Household: &pound;0.97/day

  Current winter (Dec 2025&ndash;Jan 2026):
    Total: &pound;4.85/day  &bull;  Heater: &pound;3.49/day  &bull;  Household: &pound;1.36/day

<span class="highlight">CURRENT vs COZY: heater cost nearly doubles.</span>
  Heater daily difference: &pound;3.49 &minus; &pound;1.78 = +&pound;1.71/day (winter)
  Part of this is seasonal (colder mains water), part is the regime change.

  The regime change itself (visible as the sharp jump around Aug 26):
  &bull; 7-day rolling average jumped ~6 kWh/day overnight
  &bull; At avg Agile rates (~16 p/kWh), that&rsquo;s ~&pound;0.96/day purely from the timer change

<span class="highlight">ESTIMATED EXTRA COST OF CURRENT REGIME: ~&pound;275/year</span>
  Reverting to the Cozy 3-window timer would save roughly:
  &bull; Winter months: ~&pound;35&ndash;45/month
  &bull; Summer months: ~&pound;5&ndash;10/month (demand naturally lower)

<span class="highlight">ANNUAL ELECTRICITY (projected from 12 months of data):</span>
  Heater:    &pound;884  (68% of total)
  Household: &pound;419  (32% of total)
  Total:     &pound;1,303</div>
  <div class="insight-box">
    <strong>Bottom line:</strong> The Cozy 3-window timer used <strong>almost identical energy</strong> to the Night-only regime (~10 kWh/day vs ~9.6 kWh/day heater). Both are far cheaper than the Current 20h/day regime. Reverting to Cozy would save roughly <strong>&pound;275/year</strong> with no reduction in usable hot water during the hours that matter.
  </div>
</div>

</div><!-- container -->


<script>
const D = {"monthly":[{"month":"2025-03","total":15.1,"heater":9.6,"other":5.5,"on_hours":3.1},{"month":"2025-04","total":18.0,"heater":12.3,"other":5.7,"on_hours":3.9},{"month":"2025-05","total":16.3,"heater":10.8,"other":5.5,"on_hours":3.5},{"month":"2025-06","total":19.1,"heater":13.1,"other":6.0,"on_hours":4.2},{"month":"2025-07","total":14.2,"heater":8.5,"other":5.7,"on_hours":2.7},{"month":"2025-08","total":14.9,"heater":9.2,"other":5.7,"on_hours":3.0},{"month":"2025-09","total":22.5,"heater":16.0,"other":6.6,"on_hours":5.1},{"month":"2025-10","total":24.7,"heater":17.9,"other":6.7,"on_hours":5.8},{"month":"2025-11","total":24.8,"heater":17.9,"other":6.8,"on_hours":5.8},{"month":"2025-12","total":24.0,"heater":17.1,"other":6.8,"on_hours":5.5},{"month":"2026-01","total":28.2,"heater":21.2,"other":7.0,"on_hours":6.8},{"month":"2026-02","total":26.6,"heater":19.5,"other":7.2,"on_hours":6.3}],"profiles":{"night":[{"slot":"00:00","mean":0.252},{"slot":"00:30","mean":0.216},{"slot":"01:00","mean":0.159},{"slot":"01:30","mean":0.165},{"slot":"02:00","mean":0.133},{"slot":"02:30","mean":0.162},{"slot":"03:00","mean":0.117},{"slot":"03:30","mean":0.123},{"slot":"04:00","mean":0.071},{"slot":"04:30","mean":0.065},{"slot":"05:00","mean":0.06},{"slot":"05:30","mean":0.06},{"slot":"06:00","mean":0.065},{"slot":"06:30","mean":0.088},{"slot":"07:00","mean":0.27},{"slot":"07:30","mean":0.189},{"slot":"08:00","mean":0.139},{"slot":"08:30","mean":0.118},{"slot":"09:00","mean":0.15},{"slot":"09:30","mean":0.132},{"slot":"10:00","mean":0.114},{"slot":"10:30","mean":0.097},{"slot":"11:00","mean":0.151},{"slot":"11:30","mean":0.175},{"slot":"12:00","mean":0.249},{"slot":"12:30","mean":0.246},{"slot":"13:00","mean":0.232},{"slot":"13:30","mean":0.204},{"slot":"14:00","mean":0.211},{"slot":"14:30","mean":0.267},{"slot":"15:00","mean":0.255},{"slot":"15:30","mean":0.201},{"slot":"16:00","mean":0.217},{"slot":"16:30","mean":0.188},{"slot":"17:00","mean":0.256},{"slot":"17:30","mean":0.254},{"slot":"18:00","mean":0.217},{"slot":"18:30","mean":0.271},{"slot":"19:00","mean":0.265},{"slot":"19:30","mean":0.586},{"slot":"20:00","mean":1.404},{"slot":"20:30","mean":1.394},{"slot":"21:00","mean":1.171},{"slot":"21:30","mean":0.962},{"slot":"22:00","mean":0.849},{"slot":"22:30","mean":0.857},{"slot":"23:00","mean":0.301},{"slot":"23:30","mean":0.339}],"cozy":[{"slot":"00:00","mean":0.415},{"slot":"00:30","mean":0.351},{"slot":"01:00","mean":0.255},{"slot":"01:30","mean":0.208},{"slot":"02:00","mean":0.156},{"slot":"02:30","mean":0.134},{"slot":"03:00","mean":0.114},{"slot":"03:30","mean":0.091},{"slot":"04:00","mean":0.717},{"slot":"04:30","mean":1.211},{"slot":"05:00","mean":0.892},{"slot":"05:30","mean":0.655},{"slot":"06:00","mean":0.359},{"slot":"06:30","mean":0.221},{"slot":"07:00","mean":0.167},{"slot":"07:30","mean":0.127},{"slot":"08:00","mean":0.141},{"slot":"08:30","mean":0.124},{"slot":"09:00","mean":0.148},{"slot":"09:30","mean":0.161},{"slot":"10:00","mean":0.134},{"slot":"10:30","mean":0.163},{"slot":"11:00","mean":0.157},{"slot":"11:30","mean":0.161},{"slot":"12:00","mean":0.24},{"slot":"12:30","mean":0.221},{"slot":"13:00","mean":0.535},{"slot":"13:30","mean":0.577},{"slot":"14:00","mean":0.519},{"slot":"14:30","mean":0.482},{"slot":"15:00","mean":0.339},{"slot":"15:30","mean":0.306},{"slot":"16:00","mean":0.223},{"slot":"16:30","mean":0.228},{"slot":"17:00","mean":0.168},{"slot":"17:30","mean":0.182},{"slot":"18:00","mean":0.216},{"slot":"18:30","mean":0.176},{"slot":"19:00","mean":0.218},{"slot":"19:30","mean":0.277},{"slot":"20:00","mean":0.351},{"slot":"20:30","mean":0.354},{"slot":"21:00","mean":0.393},{"slot":"21:30","mean":0.39},{"slot":"22:00","mean":0.802},{"slot":"22:30","mean":1.082},{"slot":"23:00","mean":1.133},{"slot":"23:30","mean":0.996}],"summer":[{"slot":"00:00","mean":0.59},{"slot":"00:30","mean":0.488},{"slot":"01:00","mean":0.197},{"slot":"01:30","mean":0.189},{"slot":"02:00","mean":0.162},{"slot":"02:30","mean":0.158},{"slot":"03:00","mean":0.145},{"slot":"03:30","mean":0.168},{"slot":"04:00","mean":0.147},{"slot":"04:30","mean":0.139},{"slot":"05:00","mean":0.427},{"slot":"05:30","mean":0.493},{"slot":"06:00","mean":0.279},{"slot":"06:30","mean":0.231},{"slot":"07:00","mean":0.157},{"slot":"07:30","mean":0.149},{"slot":"08:00","mean":0.125},{"slot":"08:30","mean":0.124},{"slot":"09:00","mean":0.172},{"slot":"09:30","mean":0.144},{"slot":"10:00","mean":0.137},{"slot":"10:30","mean":0.182},{"slot":"11:00","mean":0.218},{"slot":"11:30","mean":0.155},{"slot":"12:00","mean":0.222},{"slot":"12:30","mean":0.223},{"slot":"13:00","mean":0.236},{"slot":"13:30","mean":0.227},{"slot":"14:00","mean":0.526},{"slot":"14:30","mean":0.549},{"slot":"15:00","mean":0.402},{"slot":"15:30","mean":0.413},{"slot":"16:00","mean":0.366},{"slot":"16:30","mean":0.27},{"slot":"17:00","mean":0.169},{"slot":"17:30","mean":0.204},{"slot":"18:00","mean":0.182},{"slot":"18:30","mean":0.208},{"slot":"19:00","mean":0.287},{"slot":"19:30","mean":0.432},{"slot":"20:00","mean":0.344},{"slot":"20:30","mean":0.307},{"slot":"21:00","mean":0.371},{"slot":"21:30","mean":0.334},{"slot":"22:00","mean":0.329},{"slot":"22:30","mean":0.355},{"slot":"23:00","mean":0.665},{"slot":"23:30","mean":0.753}],"current_winter":[{"slot":"00:00","mean":1.236},{"slot":"00:30","mean":1.177},{"slot":"01:00","mean":1.01},{"slot":"01:30","mean":0.939},{"slot":"02:00","mean":0.751},{"slot":"02:30","mean":0.595},{"slot":"03:00","mean":0.53},{"slot":"03:30","mean":0.423},{"slot":"04:00","mean":0.348},{"slot":"04:30","mean":0.262},{"slot":"05:00","mean":0.243},{"slot":"05:30","mean":0.189},{"slot":"06:00","mean":0.205},{"slot":"06:30","mean":0.187},{"slot":"07:00","mean":0.29},{"slot":"07:30","mean":0.215},{"slot":"08:00","mean":0.249},{"slot":"08:30","mean":0.239},{"slot":"09:00","mean":0.201},{"slot":"09:30","mean":0.222},{"slot":"10:00","mean":0.23},{"slot":"10:30","mean":0.36},{"slot":"11:00","mean":0.342},{"slot":"11:30","mean":0.46},{"slot":"12:00","mean":0.419},{"slot":"12:30","mean":0.451},{"slot":"13:00","mean":0.512},{"slot":"13:30","mean":0.433},{"slot":"14:00","mean":0.446},{"slot":"14:30","mean":0.441},{"slot":"15:00","mean":0.48},{"slot":"15:30","mean":0.399},{"slot":"16:00","mean":0.366},{"slot":"16:30","mean":0.395},{"slot":"17:00","mean":0.473},{"slot":"17:30","mean":0.397},{"slot":"18:00","mean":0.419},{"slot":"18:30","mean":0.396},{"slot":"19:00","mean":0.437},{"slot":"19:30","mean":0.502},{"slot":"20:00","mean":0.549},{"slot":"20:30","mean":0.714},{"slot":"21:00","mean":1.349},{"slot":"21:30","mean":1.244},{"slot":"22:00","mean":1.147},{"slot":"22:30","mean":1.031},{"slot":"23:00","mean":1.145},{"slot":"23:30","mean":1.153}]},"distributions":{"Mar 2025 (night)":[767,232,94,67,57,39,46,20,18,17,8,12,6,8,11,8,21,14,12,6,5,5,1,3,2,3,2,1,1,0,0,0,0,0,0],"May 2025 (cozy)":[615,287,118,82,77,52,45,26,35,21,19,10,17,10,5,7,19,19,7,3,4,5,0,3,0,0,0,0,0,0,0,0,1,0,1],"Jan 2026 (current)":[55,294,294,159,134,84,52,43,37,37,34,28,26,29,21,26,36,32,24,13,11,6,4,2,1,3,2,0,0,1,0,0,0,0,0]},"dist_labels":["0.0","0.1","0.2","0.3","0.4","0.5","0.6","0.7","0.8","0.9","1.0","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2.0","2.1","2.2","2.3","2.4","2.5","2.6","2.7","2.8","2.9","3.0","3.1","3.2","3.3","3.4"],"daily":[{"date":"2025-03-01","heater":8.85,"other":6.63,"rolling7":null},{"date":"2025-03-02","heater":13.55,"other":6.44,"rolling7":null},{"date":"2025-03-03","heater":11.34,"other":5.39,"rolling7":null},{"date":"2025-03-04","heater":10.62,"other":6.48,"rolling7":null},{"date":"2025-03-05","heater":11.26,"other":6.55,"rolling7":null},{"date":"2025-03-06","heater":7.41,"other":4.9,"rolling7":null},{"date":"2025-03-07","heater":7.26,"other":4.94,"rolling7":15.9},{"date":"2025-03-08","heater":7.09,"other":5.2,"rolling7":15.5},{"date":"2025-03-09","heater":13.51,"other":5.52,"rolling7":15.4},{"date":"2025-03-10","heater":9.19,"other":5.28,"rolling7":15.0},{"date":"2025-03-11","heater":13.44,"other":5.29,"rolling7":15.3},{"date":"2025-03-12","heater":10.86,"other":6.55,"rolling7":15.2},{"date":"2025-03-13","heater":10.33,"other":4.96,"rolling7":15.6},{"date":"2025-03-14","heater":10.66,"other":5.02,"rolling7":16.1},{"date":"2025-03-15","heater":4.79,"other":4.79,"rolling7":15.7},{"date":"2025-03-16","heater":9.36,"other":6.66,"rolling7":15.3},{"date":"2025-03-17","heater":13.25,"other":5.27,"rolling7":15.9},{"date":"2025-03-18","heater":9.43,"other":4.8,"rolling7":15.2},{"date":"2025-03-19","heater":8.34,"other":5.24,"rolling7":14.7},{"date":"2025-03-20","heater":10.86,"other":4.72,"rolling7":14.7},{"date":"2025-03-21","heater":9.86,"other":5.76,"rolling7":14.7},{"date":"2025-03-22","heater":8.05,"other":4.93,"rolling7":15.2},{"date":"2025-03-23","heater":11.63,"other":5.42,"rolling7":15.4},{"date":"2025-03-24","heater":7.79,"other":5.46,"rolling7":14.6},{"date":"2025-03-25","heater":9.7,"other":6.36,"rolling7":14.9},{"date":"2025-03-26","heater":9.68,"other":4.85,"rolling7":15.0},{"date":"2025-03-27","heater":4.72,"other":4.79,"rolling7":14.1},{"date":"2025-03-28","heater":8.52,"other":5.08,"rolling7":13.9},{"date":"2025-03-29","heater":7.84,"other":4.67,"rolling7":13.8},{"date":"2025-03-30","heater":12.71,"other":5.94,"rolling7":14.0},{"date":"2025-03-31","heater":6.89,"other":5.3,"rolling7":13.9},{"date":"2025-04-01","heater":11.05,"other":6.06,"rolling7":14.0},{"date":"2025-04-02","heater":10.58,"other":7.95,"rolling7":14.6},{"date":"2025-04-03","heater":10.96,"other":5.54,"rolling7":15.6},{"date":"2025-04-04","heater":11.17,"other":6.13,"rolling7":16.1},{"date":"2025-04-05","heater":7.38,"other":4.5,"rolling7":16.0},{"date":"2025-04-06","heater":4.27,"other":4.72,"rolling7":14.6},{"date":"2025-04-07","heater":2.61,"other":3.86,"rolling7":13.8},{"date":"2025-04-08","heater":4.66,"other":3.68,"rolling7":12.6},{"date":"2025-04-09","heater":8.61,"other":4.58,"rolling7":11.8},{"date":"2025-04-10","heater":16.55,"other":5.98,"rolling7":12.7},{"date":"2025-04-11","heater":16.66,"other":6.89,"rolling7":13.6},{"date":"2025-04-12","heater":12.46,"other":5.41,"rolling7":14.4},{"date":"2025-04-13","heater":13.74,"other":6.65,"rolling7":16.0},{"date":"2025-04-14","heater":11.62,"other":5.34,"rolling7":17.5},{"date":"2025-04-15","heater":15.55,"other":6.08,"rolling7":19.4},{"date":"2025-04-16","heater":9.42,"other":5.42,"rolling7":19.7},{"date":"2025-04-17","heater":18.88,"other":6.18,"rolling7":20.0},{"date":"2025-04-18","heater":20.97,"other":5.96,"rolling7":20.5},{"date":"2025-04-19","heater":19.12,"other":6.67,"rolling7":21.7},{"date":"2025-04-20","heater":10.98,"other":5.48,"rolling7":21.1},{"date":"2025-04-21","heater":19.47,"other":6.76,"rolling7":22.4},{"date":"2025-04-22","heater":15.45,"other":6.24,"rolling7":22.4},{"date":"2025-04-23","heater":8.03,"other":5.5,"rolling7":22.2},{"date":"2025-04-24","heater":13.5,"other":5.67,"rolling7":21.4},{"date":"2025-04-25","heater":9.4,"other":5.5,"rolling7":19.7},{"date":"2025-04-26","heater":13.88,"other":5.81,"rolling7":18.8},{"date":"2025-04-27","heater":16.25,"other":6.38,"rolling7":19.7},{"date":"2025-04-28","heater":10.82,"other":5.38,"rolling7":18.3},{"date":"2025-04-29","heater":11.58,"other":5.2,"rolling7":17.6},{"date":"2025-04-30","heater":12.16,"other":5.34,"rolling7":18.1},{"date":"2025-05-01","heater":8.9,"other":5.48,"rolling7":17.4},{"date":"2025-05-02","heater":10.18,"other":5.41,"rolling7":17.5},{"date":"2025-05-03","heater":12.26,"other":6.07,"rolling7":17.3},{"date":"2025-05-04","heater":9.67,"other":4.36,"rolling7":16.1},{"date":"2025-05-05","heater":1.49,"other":2.85,"rolling7":14.4},{"date":"2025-05-06","heater":12.81,"other":5.42,"rolling7":14.6},{"date":"2025-05-07","heater":17.28,"other":7.21,"rolling7":15.6},{"date":"2025-05-08","heater":10.57,"other":8.74,"rolling7":16.3},{"date":"2025-05-09","heater":16.07,"other":5.84,"rolling7":17.2},{"date":"2025-05-10","heater":12.39,"other":6.21,"rolling7":17.3},{"date":"2025-05-11","heater":14.91,"other":5.71,"rolling7":18.2},{"date":"2025-05-12","heater":11.74,"other":5.7,"rolling7":20.1},{"date":"2025-05-13","heater":11.83,"other":5.75,"rolling7":20.0},{"date":"2025-05-14","heater":11.14,"other":5.31,"rolling7":18.8},{"date":"2025-05-15","heater":13.7,"other":5.88,"rolling7":18.9},{"date":"2025-05-16","heater":7.62,"other":5.53,"rolling7":17.6},{"date":"2025-05-17","heater":10.11,"other":5.07,"rolling7":17.1},{"date":"2025-05-18","heater":12.6,"other":6.04,"rolling7":16.9},{"date":"2025-05-19","heater":11.99,"other":5.47,"rolling7":16.9},{"date":"2025-05-20","heater":10.09,"other":4.96,"rolling7":16.5},{"date":"2025-05-21","heater":10.11,"other":5.17,"rolling7":16.3},{"date":"2025-05-22","heater":12.92,"other":5.38,"rolling7":16.2},{"date":"2025-05-23","heater":16.19,"other":5.97,"rolling7":17.4},{"date":"2025-05-24","heater":15.29,"other":6.21,"rolling7":18.3},{"date":"2025-05-25","heater":4.83,"other":4.13,"rolling7":17.0},{"date":"2025-05-26","heater":2.19,"other":3.99,"rolling7":15.3},{"date":"2025-05-27","heater":2.75,"other":4.81,"rolling7":14.3},{"date":"2025-05-28","heater":15.82,"other":5.77,"rolling7":15.2},{"date":"2025-05-29","heater":9.67,"other":5.38,"rolling7":14.7},{"date":"2025-05-30","heater":8.36,"other":5.23,"rolling7":13.5},{"date":"2025-05-31","heater":8.32,"other":5.38,"rolling7":12.4},{"date":"2025-06-01","heater":11.47,"other":6.08,"rolling7":13.6},{"date":"2025-06-02","heater":11.81,"other":5.93,"rolling7":15.3},{"date":"2025-06-03","heater":13.7,"other":6.82,"rolling7":17.1},{"date":"2025-06-04","heater":12.7,"other":5.89,"rolling7":16.7},{"date":"2025-06-05","heater":15.16,"other":5.93,"rolling7":17.5},{"date":"2025-06-06","heater":10.55,"other":6.31,"rolling7":18.0},{"date":"2025-06-07","heater":14.94,"other":5.3,"rolling7":18.9},{"date":"2025-06-08","heater":18.34,"other":6.42,"rolling7":20.0},{"date":"2025-06-09","heater":14.36,"other":5.99,"rolling7":20.3},{"date":"2025-06-10","heater":15.16,"other":6.48,"rolling7":20.5},{"date":"2025-06-11","heater":15.11,"other":6.26,"rolling7":20.9},{"date":"2025-06-12","heater":13.67,"other":6.02,"rolling7":20.7},{"date":"2025-06-13","heater":11.45,"other":6.26,"rolling7":20.8},{"date":"2025-06-14","heater":16.73,"other":6.15,"rolling7":21.2},{"date":"2025-06-15","heater":14.24,"other":6.27,"rolling7":20.6},{"date":"2025-06-16","heater":12.01,"other":5.88,"rolling7":20.2},{"date":"2025-06-17","heater":12.64,"other":5.92,"rolling7":19.8},{"date":"2025-06-18","heater":14.49,"other":5.63,"rolling7":19.6},{"date":"2025-06-19","heater":13.21,"other":5.91,"rolling7":19.5},{"date":"2025-06-20","heater":10.91,"other":6.24,"rolling7":19.5},{"date":"2025-06-21","heater":10.97,"other":5.85,"rolling7":18.6},{"date":"2025-06-22","heater":10.53,"other":5.63,"rolling7":18.0},{"date":"2025-06-23","heater":12.43,"other":6.1,"rolling7":18.1},{"date":"2025-06-24","heater":11.72,"other":5.85,"rolling7":17.9},{"date":"2025-06-25","heater":12.98,"other":6.08,"rolling7":17.8},{"date":"2025-06-26","heater":16.93,"other":6.27,"rolling7":18.4},{"date":"2025-06-27","heater":9.28,"other":6.0,"rolling7":18.1},{"date":"2025-06-28","heater":15.03,"other":5.79,"rolling7":18.7},{"date":"2025-06-29","heater":10.38,"other":5.9,"rolling7":18.7},{"date":"2025-06-30","heater":10.06,"other":5.7,"rolling7":18.3},{"date":"2025-07-01","heater":8.92,"other":5.66,"rolling7":17.9},{"date":"2025-07-02","heater":10.0,"other":5.6,"rolling7":17.4},{"date":"2025-07-03","heater":8.01,"other":5.74,"rolling7":16.0},{"date":"2025-07-04","heater":5.28,"other":5.36,"rolling7":15.3},{"date":"2025-07-05","heater":4.99,"other":5.48,"rolling7":13.9},{"date":"2025-07-06","heater":11.06,"other":5.81,"rolling7":14.0},{"date":"2025-07-07","heater":9.05,"other":5.5,"rolling7":13.8},{"date":"2025-07-08","heater":13.47,"other":5.87,"rolling7":14.5},{"date":"2025-07-09","heater":13.92,"other":5.93,"rolling7":15.1},{"date":"2025-07-10","heater":9.2,"other":5.46,"rolling7":15.2},{"date":"2025-07-11","heater":6.46,"other":5.52,"rolling7":15.4},{"date":"2025-07-12","heater":6.78,"other":5.59,"rolling7":15.7},{"date":"2025-07-13","heater":6.27,"other":5.57,"rolling7":14.9},{"date":"2025-07-14","heater":6.26,"other":5.36,"rolling7":14.5},{"date":"2025-07-15","heater":8.44,"other":5.99,"rolling7":13.8},{"date":"2025-07-16","heater":11.01,"other":5.77,"rolling7":13.4},{"date":"2025-07-17","heater":12.99,"other":5.84,"rolling7":14.0},{"date":"2025-07-18","heater":10.23,"other":5.77,"rolling7":14.6},{"date":"2025-07-19","heater":12.99,"other":6.76,"rolling7":15.6},{"date":"2025-07-20","heater":12.59,"other":5.97,"rolling7":16.6},{"date":"2025-07-21","heater":10.03,"other":5.82,"rolling7":17.2},{"date":"2025-07-22","heater":8.95,"other":6.13,"rolling7":17.3},{"date":"2025-07-23","heater":10.64,"other":5.45,"rolling7":17.2},{"date":"2025-07-24","heater":12.85,"other":5.72,"rolling7":17.1},{"date":"2025-07-25","heater":5.59,"other":5.38,"rolling7":16.4},{"date":"2025-07-26","heater":4.32,"other":5.77,"rolling7":15.0},{"date":"2025-07-27","heater":3.53,"other":5.61,"rolling7":13.7},{"date":"2025-07-28","heater":3.0,"other":5.3,"rolling7":12.6},{"date":"2025-07-29","heater":4.98,"other":5.96,"rolling7":12.0},{"date":"2025-07-30","heater":6.64,"other":5.48,"rolling7":11.4},{"date":"2025-07-31","heater":4.94,"other":5.74,"rolling7":10.3},{"date":"2025-08-01","heater":3.12,"other":5.51,"rolling7":10.0},{"date":"2025-08-02","heater":3.59,"other":5.45,"rolling7":9.8},{"date":"2025-08-03","heater":3.98,"other":5.41,"rolling7":9.9},{"date":"2025-08-04","heater":3.32,"other":5.4,"rolling7":9.9},{"date":"2025-08-05","heater":2.77,"other":4.98,"rolling7":9.5},{"date":"2025-08-06","heater":6.54,"other":5.68,"rolling7":9.5},{"date":"2025-08-07","heater":7.57,"other":5.56,"rolling7":9.8},{"date":"2025-08-08","heater":13.46,"other":5.87,"rolling7":11.4},{"date":"2025-08-09","heater":15.34,"other":6.4,"rolling7":13.2},{"date":"2025-08-10","heater":17.75,"other":6.11,"rolling7":15.2},{"date":"2025-08-11","heater":12.57,"other":6.15,"rolling7":16.7},{"date":"2025-08-12","heater":3.23,"other":4.8,"rolling7":16.7},{"date":"2025-08-13","heater":5.12,"other":5.72,"rolling7":16.5},{"date":"2025-08-14","heater":2.77,"other":4.77,"rolling7":15.7},{"date":"2025-08-15","heater":8.07,"other":5.66,"rolling7":14.9},{"date":"2025-08-16","heater":6.98,"other":5.31,"rolling7":13.6},{"date":"2025-08-17","heater":5.25,"other":5.33,"rolling7":11.7},{"date":"2025-08-18","heater":6.05,"other":5.39,"rolling7":10.6},{"date":"2025-08-19","heater":4.8,"other":5.0,"rolling7":10.9},{"date":"2025-08-20","heater":7.69,"other":5.69,"rolling7":11.3},{"date":"2025-08-21","heater":7.6,"other":5.7,"rolling7":12.1},{"date":"2025-08-22","heater":10.82,"other":5.69,"rolling7":12.5},{"date":"2025-08-23","heater":12.78,"other":5.89,"rolling7":13.4},{"date":"2025-08-24","heater":11.69,"other":6.36,"rolling7":14.5},{"date":"2025-08-25","heater":7.29,"other":5.62,"rolling7":14.7},{"date":"2025-08-26","heater":18.76,"other":6.25,"rolling7":16.8},{"date":"2025-08-27","heater":14.33,"other":6.21,"rolling7":17.9},{"date":"2025-08-28","heater":12.24,"other":6.36,"rolling7":18.6},{"date":"2025-08-29","heater":18.48,"other":6.75,"rolling7":19.9},{"date":"2025-08-30","heater":14.1,"other":5.86,"rolling7":20.0},{"date":"2025-08-31","heater":17.67,"other":6.21,"rolling7":20.9},{"date":"2025-09-01","heater":15.6,"other":6.74,"rolling7":22.2},{"date":"2025-09-02","heater":12.21,"other":6.31,"rolling7":21.3},{"date":"2025-09-03","heater":20.13,"other":6.77,"rolling7":22.2},{"date":"2025-09-04","heater":19.81,"other":7.66,"rolling7":23.5},{"date":"2025-09-05","heater":12.78,"other":6.21,"rolling7":22.6},{"date":"2025-09-06","heater":14.6,"other":7.05,"rolling7":22.8},{"date":"2025-09-07","heater":11.2,"other":5.53,"rolling7":21.8},{"date":"2025-09-08","heater":19.92,"other":6.7,"rolling7":22.4},{"date":"2025-09-09","heater":20.04,"other":6.29,"rolling7":23.5},{"date":"2025-09-10","heater":19.06,"other":6.38,"rolling7":23.3},{"date":"2025-09-11","heater":18.19,"other":6.1,"rolling7":22.9},{"date":"2025-09-12","heater":14.95,"other":6.73,"rolling7":23.2},{"date":"2025-09-13","heater":18.65,"other":8.46,"rolling7":24.0},{"date":"2025-09-14","heater":11.69,"other":6.26,"rolling7":24.2},{"date":"2025-09-15","heater":21.4,"other":7.02,"rolling7":24.5},{"date":"2025-09-16","heater":15.0,"other":6.28,"rolling7":23.7},{"date":"2025-09-17","heater":12.57,"other":5.82,"rolling7":22.7},{"date":"2025-09-18","heater":10.24,"other":5.79,"rolling7":21.6},{"date":"2025-09-19","heater":18.48,"other":6.32,"rolling7":22.0},{"date":"2025-09-20","heater":18.64,"other":8.18,"rolling7":22.0},{"date":"2025-09-21","heater":20.33,"other":7.25,"rolling7":23.3},{"date":"2025-09-22","heater":11.69,"other":6.0,"rolling7":21.8},{"date":"2025-09-23","heater":17.76,"other":6.29,"rolling7":22.2},{"date":"2025-09-24","heater":21.38,"other":6.68,"rolling7":23.6},{"date":"2025-09-25","heater":14.24,"other":6.72,"rolling7":24.3},{"date":"2025-09-26","heater":15.87,"other":6.25,"rolling7":23.9},{"date":"2025-09-27","heater":7.08,"other":6.04,"rolling7":21.9},{"date":"2025-09-28","heater":17.7,"other":6.52,"rolling7":21.5},{"date":"2025-09-29","heater":11.65,"other":6.09,"rolling7":21.5},{"date":"2025-09-30","heater":15.83,"other":6.73,"rolling7":21.3},{"date":"2025-10-01","heater":17.01,"other":7.18,"rolling7":20.7},{"date":"2025-10-02","heater":13.58,"other":7.13,"rolling7":20.7},{"date":"2025-10-03","heater":24.42,"other":7.14,"rolling7":22.0},{"date":"2025-10-04","heater":19.45,"other":6.8,"rolling7":23.9},{"date":"2025-10-05","heater":21.31,"other":6.9,"rolling7":24.5},{"date":"2025-10-06","heater":11.85,"other":6.06,"rolling7":24.5},{"date":"2025-10-07","heater":17.86,"other":6.38,"rolling7":24.7},{"date":"2025-10-08","heater":19.06,"other":7.18,"rolling7":25.0},{"date":"2025-10-09","heater":18.91,"other":6.14,"rolling7":25.6},{"date":"2025-10-10","heater":15.93,"other":7.27,"rolling7":24.4},{"date":"2025-10-11","heater":13.36,"other":5.97,"rolling7":23.5},{"date":"2025-10-12","heater":16.07,"other":6.88,"rolling7":22.7},{"date":"2025-10-13","heater":11.18,"other":6.07,"rolling7":22.6},{"date":"2025-10-14","heater":18.66,"other":7.07,"rolling7":22.8},{"date":"2025-10-15","heater":19.88,"other":6.46,"rolling7":22.8},{"date":"2025-10-16","heater":23.29,"other":6.93,"rolling7":23.6},{"date":"2025-10-17","heater":17.59,"other":6.37,"rolling7":23.7},{"date":"2025-10-18","heater":14.15,"other":7.03,"rolling7":23.9},{"date":"2025-10-19","heater":24.62,"other":8.87,"rolling7":25.5},{"date":"2025-10-20","heater":14.21,"other":6.81,"rolling7":26.0},{"date":"2025-10-21","heater":18.28,"other":6.26,"rolling7":25.8},{"date":"2025-10-22","heater":17.19,"other":6.54,"rolling7":25.4},{"date":"2025-10-23","heater":16.53,"other":6.4,"rolling7":24.4},{"date":"2025-10-24","heater":11.75,"other":6.12,"rolling7":23.5},{"date":"2025-10-25","heater":12.67,"other":5.9,"rolling7":23.2},{"date":"2025-10-26","heater":29.91,"other":7.59,"rolling7":23.7},{"date":"2025-10-27","heater":14.75,"other":6.33,"rolling7":23.7},{"date":"2025-10-28","heater":21.43,"other":7.04,"rolling7":24.3},{"date":"2025-10-29","heater":22.22,"other":7.03,"rolling7":25.1},{"date":"2025-10-30","heater":27.13,"other":6.56,"rolling7":26.6},{"date":"2025-10-31","heater":11.55,"other":6.04,"rolling7":26.6},{"date":"2025-11-01","heater":19.46,"other":7.8,"rolling7":27.8},{"date":"2025-11-02","heater":19.38,"other":6.31,"rolling7":26.1},{"date":"2025-11-03","heater":16.03,"other":6.23,"rolling7":26.3},{"date":"2025-11-04","heater":12.9,"other":6.04,"rolling7":25.0},{"date":"2025-11-05","heater":18.72,"other":6.45,"rolling7":24.4},{"date":"2025-11-06","heater":11.23,"other":6.06,"rolling7":22.0},{"date":"2025-11-07","heater":8.8,"other":6.18,"rolling7":21.7},{"date":"2025-11-08","heater":17.76,"other":6.34,"rolling7":21.2},{"date":"2025-11-09","heater":17.19,"other":6.43,"rolling7":20.9},{"date":"2025-11-10","heater":13.33,"other":6.28,"rolling7":20.5},{"date":"2025-11-11","heater":13.85,"other":6.3,"rolling7":20.7},{"date":"2025-11-12","heater":17.64,"other":6.83,"rolling7":20.6},{"date":"2025-11-13","heater":17.64,"other":8.02,"rolling7":21.8},{"date":"2025-11-14","heater":14.01,"other":6.26,"rolling7":22.6},{"date":"2025-11-15","heater":16.09,"other":6.56,"rolling7":22.3},{"date":"2025-11-16","heater":22.57,"other":7.6,"rolling7":23.3},{"date":"2025-11-17","heater":14.04,"other":6.33,"rolling7":23.4},{"date":"2025-11-18","heater":21.33,"other":6.66,"rolling7":24.5},{"date":"2025-11-19","heater":25.02,"other":7.3,"rolling7":25.6},{"date":"2025-11-20","heater":18.56,"other":7.01,"rolling7":25.6},{"date":"2025-11-21","heater":23.47,"other":8.74,"rolling7":27.3},{"date":"2025-11-22","heater":18.94,"other":7.44,"rolling7":27.9},{"date":"2025-11-23","heater":22.93,"other":6.4,"rolling7":27.7},{"date":"2025-11-24","heater":19.53,"other":7.01,"rolling7":28.6},{"date":"2025-11-25","heater":24.11,"other":8.26,"rolling7":29.2},{"date":"2025-11-26","heater":19.82,"other":6.35,"rolling7":28.4},{"date":"2025-11-27","heater":19.34,"other":6.36,"rolling7":28.4},{"date":"2025-11-28","heater":20.14,"other":6.33,"rolling7":27.6},{"date":"2025-11-29","heater":17.42,"other":7.19,"rolling7":27.3},{"date":"2025-11-30","heater":17.22,"other":7.78,"rolling7":26.7},{"date":"2025-12-01","heater":22.52,"other":7.41,"rolling7":27.2},{"date":"2025-12-02","heater":19.97,"other":6.55,"rolling7":26.3},{"date":"2025-12-03","heater":18.98,"other":6.4,"rolling7":26.2},{"date":"2025-12-04","heater":11.05,"other":6.2,"rolling7":25.0},{"date":"2025-12-05","heater":17.09,"other":6.36,"rolling7":24.6},{"date":"2025-12-06","heater":16.22,"other":6.28,"rolling7":24.3},{"date":"2025-12-07","heater":17.11,"other":6.53,"rolling7":24.1},{"date":"2025-12-08","heater":12.05,"other":5.95,"rolling7":22.4},{"date":"2025-12-09","heater":11.56,"other":6.36,"rolling7":21.2},{"date":"2025-12-10","heater":18.28,"other":7.64,"rolling7":21.2},{"date":"2025-12-11","heater":15.58,"other":7.43,"rolling7":22.1},{"date":"2025-12-12","heater":11.19,"other":6.42,"rolling7":21.2},{"date":"2025-12-13","heater":20.68,"other":6.24,"rolling7":21.9},{"date":"2025-12-14","heater":18.75,"other":6.7,"rolling7":22.1},{"date":"2025-12-15","heater":13.97,"other":6.39,"rolling7":22.5},{"date":"2025-12-16","heater":13.56,"other":6.79,"rolling7":22.8},{"date":"2025-12-17","heater":15.03,"other":7.9,"rolling7":22.4},{"date":"2025-12-18","heater":20.52,"other":6.4,"rolling7":22.9},{"date":"2025-12-19","heater":16.79,"other":7.36,"rolling7":23.9},{"date":"2025-12-20","heater":16.44,"other":6.71,"rolling7":23.3},{"date":"2025-12-21","heater":26.33,"other":7.29,"rolling7":24.5},{"date":"2025-12-22","heater":16.33,"other":6.44,"rolling7":24.8},{"date":"2025-12-23","heater":15.21,"other":7.51,"rolling7":25.2},{"date":"2025-12-24","heater":16.98,"other":6.31,"rolling7":25.2},{"date":"2025-12-25","heater":13.47,"other":6.28,"rolling7":24.2},{"date":"2025-12-26","heater":16.93,"other":5.98,"rolling7":24.0},{"date":"2025-12-27","heater":12.47,"other":5.33,"rolling7":23.3},{"date":"2025-12-28","heater":19.45,"other":9.17,"rolling7":22.6},{"date":"2025-12-29","heater":15.04,"other":6.9,"rolling7":22.4},{"date":"2025-12-30","heater":20.03,"other":7.47,"rolling7":23.1},{"date":"2025-12-31","heater":31.0,"other":9.44,"rolling7":25.6},{"date":"2026-01-01","heater":14.3,"other":6.35,"rolling7":25.7},{"date":"2026-01-02","heater":23.01,"other":6.52,"rolling7":26.6},{"date":"2026-01-03","heater":26.03,"other":6.98,"rolling7":28.8},{"date":"2026-01-04","heater":29.36,"other":7.86,"rolling7":30.0},{"date":"2026-01-05","heater":19.51,"other":6.47,"rolling7":30.6},{"date":"2026-01-06","heater":18.37,"other":6.8,"rolling7":30.3},{"date":"2026-01-07","heater":25.66,"other":8.83,"rolling7":29.4},{"date":"2026-01-08","heater":24.78,"other":6.37,"rolling7":30.9},{"date":"2026-01-09","heater":17.13,"other":6.32,"rolling7":30.1},{"date":"2026-01-10","heater":21.2,"other":7.47,"rolling7":29.4},{"date":"2026-01-11","heater":22.69,"other":7.72,"rolling7":28.5},{"date":"2026-01-12","heater":12.94,"other":6.22,"rolling7":27.5},{"date":"2026-01-13","heater":19.24,"other":6.29,"rolling7":27.6},{"date":"2026-01-14","heater":20.8,"other":7.94,"rolling7":26.7},{"date":"2026-01-15","heater":12.92,"other":6.79,"rolling7":25.1},{"date":"2026-01-16","heater":23.65,"other":7.78,"rolling7":26.2},{"date":"2026-01-17","heater":19.95,"other":6.82,"rolling7":26.0},{"date":"2026-01-18","heater":22.74,"other":7.22,"rolling7":25.9},{"date":"2026-01-19","heater":20.73,"other":6.89,"rolling7":27.1},{"date":"2026-01-20","heater":17.44,"other":7.63,"rolling7":27.0},{"date":"2026-01-21","heater":14.98,"other":7.49,"rolling7":26.1},{"date":"2026-01-22","heater":26.05,"other":8.5,"rolling7":28.3},{"date":"2026-01-23","heater":20.45,"other":6.65,"rolling7":27.6},{"date":"2026-01-24","heater":26.49,"other":7.24,"rolling7":28.6},{"date":"2026-01-25","heater":28.6,"other":6.65,"rolling7":29.4},{"date":"2026-01-26","heater":16.81,"other":6.35,"rolling7":28.8},{"date":"2026-01-27","heater":28.05,"other":6.95,"rolling7":30.2},{"date":"2026-01-28","heater":19.71,"other":6.87,"rolling7":30.8},{"date":"2026-01-29","heater":18.44,"other":7.04,"rolling7":29.5},{"date":"2026-01-30","heater":29.81,"other":7.33,"rolling7":30.9},{"date":"2026-01-31","heater":15.12,"other":6.21,"rolling7":29.1},{"date":"2026-02-01","heater":26.46,"other":6.87,"rolling7":28.9},{"date":"2026-02-02","heater":12.83,"other":8.0,"rolling7":28.5},{"date":"2026-02-03","heater":25.93,"other":6.93,"rolling7":28.2},{"date":"2026-02-04","heater":23.76,"other":6.12,"rolling7":28.7},{"date":"2026-02-05","heater":20.59,"other":7.83,"rolling7":29.1},{"date":"2026-02-06","heater":12.44,"other":6.23,"rolling7":26.5},{"date":"2026-02-07","heater":28.55,"other":6.37,"rolling7":28.4},{"date":"2026-02-08","heater":22.02,"other":7.79,"rolling7":27.9},{"date":"2026-02-09","heater":14.23,"other":6.28,"rolling7":27.9},{"date":"2026-02-10","heater":15.29,"other":8.13,"rolling7":26.5},{"date":"2026-02-11","heater":23.78,"other":8.68,"rolling7":26.9},{"date":"2026-02-12","heater":17.23,"other":6.12,"rolling7":26.2},{"date":"2026-02-13","heater":14.69,"other":7.25,"rolling7":26.6},{"date":"2026-02-14","heater":19.03,"other":8.34,"rolling7":25.6},{"date":"2026-02-15","heater":15.24,"other":6.33,"rolling7":24.4}],"firing":{"night":{"0":0.07,"1":0.05,"2":0.03,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.03,"12":0.1,"13":0.07,"14":0.05,"15":0.05,"16":0.0,"17":0.0,"18":0.03,"19":0.17,"20":1.38,"21":1.0,"22":0.75,"23":0.17},"cozy":{"0":0.21,"1":0.07,"2":0.02,"3":0.0,"4":0.75,"5":0.61,"6":0.05,"7":0.0,"8":0.0,"9":0.0,"10":0.02,"11":0.03,"12":0.02,"13":0.23,"14":0.25,"15":0.05,"16":0.03,"17":0.02,"18":0.03,"19":0.05,"20":0.08,"21":0.15,"22":0.77,"23":1.03},"current":{"0":1.23,"1":0.88,"2":0.49,"3":0.29,"4":0.08,"5":0.04,"6":0.03,"7":0.03,"8":0.0,"9":0.03,"10":0.08,"11":0.13,"12":0.17,"13":0.14,"14":0.16,"15":0.17,"16":0.09,"17":0.19,"18":0.12,"19":0.16,"20":0.43,"21":1.14,"22":1.0,"23":1.16}},"heatmap":[{"week":"2025-W09","hour":0,"kwh":0.244},{"week":"2025-W09","hour":1,"kwh":0.273},{"week":"2025-W09","hour":2,"kwh":0.224},{"week":"2025-W09","hour":3,"kwh":0.121},{"week":"2025-W09","hour":21,"kwh":0.772},{"week":"2025-W09","hour":22,"kwh":0.613},{"week":"2025-W09","hour":23,"kwh":0.271},{"week":"2025-W10","hour":0,"kwh":0.165},{"week":"2025-W10","hour":1,"kwh":0.096},{"week":"2025-W10","hour":2,"kwh":0.119},{"week":"2025-W10","hour":3,"kwh":0.086},{"week":"2025-W10","hour":21,"kwh":0.671},{"week":"2025-W10","hour":22,"kwh":0.747},{"week":"2025-W10","hour":23,"kwh":0.153},{"week":"2025-W11","hour":0,"kwh":0.103},{"week":"2025-W11","hour":1,"kwh":0.08},{"week":"2025-W11","hour":2,"kwh":0.09},{"week":"2025-W11","hour":3,"kwh":0.103},{"week":"2025-W11","hour":21,"kwh":1.04},{"week":"2025-W11","hour":22,"kwh":0.87},{"week":"2025-W11","hour":23,"kwh":0.11},{"week":"2025-W12","hour":0,"kwh":0.098},{"week":"2025-W12","hour":1,"kwh":0.088},{"week":"2025-W12","hour":2,"kwh":0.119},{"week":"2025-W12","hour":3,"kwh":0.076},{"week":"2025-W12","hour":21,"kwh":1.365},{"week":"2025-W12","hour":22,"kwh":1.089},{"week":"2025-W12","hour":23,"kwh":0.224},{"week":"2025-W13","hour":0,"kwh":0.106},{"week":"2025-W13","hour":1,"kwh":0.106},{"week":"2025-W13","hour":2,"kwh":0.079},{"week":"2025-W13","hour":3,"kwh":0.064},{"week":"2025-W13","hour":21,"kwh":0.961},{"week":"2025-W13","hour":22,"kwh":1.091},{"week":"2025-W13","hour":23,"kwh":0.208},{"week":"2025-W14","hour":0,"kwh":0.609},{"week":"2025-W14","hour":1,"kwh":0.337},{"week":"2025-W14","hour":2,"kwh":0.298},{"week":"2025-W14","hour":3,"kwh":0.278},{"week":"2025-W14","hour":21,"kwh":1.445},{"week":"2025-W14","hour":22,"kwh":0.713},{"week":"2025-W14","hour":23,"kwh":0.71},{"week":"2025-W15","hour":0,"kwh":0.868},{"week":"2025-W15","hour":1,"kwh":0.685},{"week":"2025-W15","hour":2,"kwh":0.403},{"week":"2025-W15","hour":3,"kwh":0.234},{"week":"2025-W15","hour":21,"kwh":1.333},{"week":"2025-W15","hour":22,"kwh":0.611},{"week":"2025-W15","hour":23,"kwh":0.972},{"week":"2025-W16","hour":0,"kwh":1.164},{"week":"2025-W16","hour":1,"kwh":1.154},{"week":"2025-W16","hour":2,"kwh":0.88},{"week":"2025-W16","hour":3,"kwh":0.467},{"week":"2025-W16","hour":21,"kwh":1.141},{"week":"2025-W16","hour":22,"kwh":0.825},{"week":"2025-W16","hour":23,"kwh":0.918},{"week":"2025-W17","hour":0,"kwh":1.185},{"week":"2025-W17","hour":1,"kwh":0.879},{"week":"2025-W17","hour":2,"kwh":0.605},{"week":"2025-W17","hour":3,"kwh":0.412},{"week":"2025-W17","hour":21,"kwh":1.262},{"week":"2025-W17","hour":22,"kwh":1.191},{"week":"2025-W17","hour":23,"kwh":1.116},{"week":"2025-W18","hour":0,"kwh":0.897},{"week":"2025-W18","hour":1,"kwh":0.64},{"week":"2025-W18","hour":2,"kwh":0.259},{"week":"2025-W18","hour":3,"kwh":0.194},{"week":"2025-W18","hour":21,"kwh":0.351},{"week":"2025-W18","hour":22,"kwh":1.216},{"week":"2025-W18","hour":23,"kwh":0.977},{"week":"2025-W19","hour":0,"kwh":0.25},{"week":"2025-W19","hour":1,"kwh":0.411},{"week":"2025-W19","hour":2,"kwh":0.225},{"week":"2025-W19","hour":3,"kwh":0.091},{"week":"2025-W19","hour":21,"kwh":0.324},{"week":"2025-W19","hour":22,"kwh":1.237},{"week":"2025-W19","hour":23,"kwh":1.176},{"week":"2025-W20","hour":0,"kwh":0.325},{"week":"2025-W20","hour":1,"kwh":0.105},{"week":"2025-W20","hour":2,"kwh":0.077},{"week":"2025-W20","hour":3,"kwh":0.075},{"week":"2025-W20","hour":21,"kwh":0.349},{"week":"2025-W20","hour":22,"kwh":1.091},{"week":"2025-W20","hour":23,"kwh":1.086},{"week":"2025-W21","hour":0,"kwh":0.235},{"week":"2025-W21","hour":1,"kwh":0.091},{"week":"2025-W21","hour":2,"kwh":0.078},{"week":"2025-W21","hour":3,"kwh":0.073},{"week":"2025-W21","hour":21,"kwh":0.305},{"week":"2025-W21","hour":22,"kwh":0.984},{"week":"2025-W21","hour":23,"kwh":1.282},{"week":"2025-W22","hour":0,"kwh":0.12},{"week":"2025-W22","hour":1,"kwh":0.091},{"week":"2025-W22","hour":2,"kwh":0.084},{"week":"2025-W22","hour":3,"kwh":0.072},{"week":"2025-W22","hour":21,"kwh":0.573},{"week":"2025-W22","hour":22,"kwh":0.491},{"week":"2025-W22","hour":23,"kwh":0.583},{"week":"2025-W23","hour":0,"kwh":0.175},{"week":"2025-W23","hour":1,"kwh":0.215},{"week":"2025-W23","hour":2,"kwh":0.088},{"week":"2025-W23","hour":3,"kwh":0.077},{"week":"2025-W23","hour":21,"kwh":0.281},{"week":"2025-W23","hour":22,"kwh":1.361},{"week":"2025-W23","hour":23,"kwh":1.016},{"week":"2025-W24","hour":0,"kwh":0.232},{"week":"2025-W24","hour":1,"kwh":0.175},{"week":"2025-W24","hour":2,"kwh":0.113},{"week":"2025-W24","hour":3,"kwh":0.091},{"week":"2025-W24","hour":21,"kwh":0.733},{"week":"2025-W24","hour":22,"kwh":1.067},{"week":"2025-W24","hour":23,"kwh":1.415},{"week":"2025-W25","hour":0,"kwh":0.547},{"week":"2025-W25","hour":1,"kwh":0.227},{"week":"2025-W25","hour":2,"kwh":0.201},{"week":"2025-W25","hour":3,"kwh":0.144},{"week":"2025-W25","hour":21,"kwh":0.252},{"week":"2025-W25","hour":22,"kwh":0.51},{"week":"2025-W25","hour":23,"kwh":0.889},{"week":"2025-W26","hour":0,"kwh":0.892},{"week":"2025-W26","hour":1,"kwh":0.258},{"week":"2025-W26","hour":2,"kwh":0.163},{"week":"2025-W26","hour":3,"kwh":0.137},{"week":"2025-W26","hour":21,"kwh":0.36},{"week":"2025-W26","hour":22,"kwh":0.672},{"week":"2025-W26","hour":23,"kwh":1.205},{"week":"2025-W27","hour":0,"kwh":0.818},{"week":"2025-W27","hour":1,"kwh":0.14},{"week":"2025-W27","hour":2,"kwh":0.183},{"week":"2025-W27","hour":3,"kwh":0.149},{"week":"2025-W27","hour":21,"kwh":0.23},{"week":"2025-W27","hour":22,"kwh":0.326},{"week":"2025-W27","hour":23,"kwh":1.012},{"week":"2025-W28","hour":0,"kwh":0.802},{"week":"2025-W28","hour":1,"kwh":0.193},{"week":"2025-W28","hour":2,"kwh":0.212},{"week":"2025-W28","hour":3,"kwh":0.158},{"week":"2025-W28","hour":21,"kwh":0.28},{"week":"2025-W28","hour":22,"kwh":0.19},{"week":"2025-W28","hour":23,"kwh":0.773},{"week":"2025-W29","hour":0,"kwh":0.655},{"week":"2025-W29","hour":1,"kwh":0.126},{"week":"2025-W29","hour":2,"kwh":0.129},{"week":"2025-W29","hour":3,"kwh":0.236},{"week":"2025-W29","hour":21,"kwh":0.537},{"week":"2025-W29","hour":22,"kwh":0.313},{"week":"2025-W29","hour":23,"kwh":0.726},{"week":"2025-W30","hour":0,"kwh":0.417},{"week":"2025-W30","hour":1,"kwh":0.173},{"week":"2025-W30","hour":2,"kwh":0.118},{"week":"2025-W30","hour":3,"kwh":0.176},{"week":"2025-W30","hour":21,"kwh":0.397},{"week":"2025-W30","hour":22,"kwh":0.289},{"week":"2025-W30","hour":23,"kwh":0.876},{"week":"2025-W31","hour":0,"kwh":0.308},{"week":"2025-W31","hour":1,"kwh":0.113},{"week":"2025-W31","hour":2,"kwh":0.107},{"week":"2025-W31","hour":3,"kwh":0.088},{"week":"2025-W31","hour":21,"kwh":0.199},{"week":"2025-W31","hour":22,"kwh":0.187},{"week":"2025-W31","hour":23,"kwh":0.508},{"week":"2025-W32","hour":0,"kwh":0.624},{"week":"2025-W32","hour":1,"kwh":0.213},{"week":"2025-W32","hour":2,"kwh":0.158},{"week":"2025-W32","hour":3,"kwh":0.091},{"week":"2025-W32","hour":21,"kwh":0.35},{"week":"2025-W32","hour":22,"kwh":0.599},{"week":"2025-W32","hour":23,"kwh":0.807},{"week":"2025-W33","hour":0,"kwh":0.336},{"week":"2025-W33","hour":1,"kwh":0.217},{"week":"2025-W33","hour":2,"kwh":0.222},{"week":"2025-W33","hour":3,"kwh":0.187},{"week":"2025-W33","hour":21,"kwh":0.298},{"week":"2025-W33","hour":22,"kwh":0.217},{"week":"2025-W33","hour":23,"kwh":0.597},{"week":"2025-W34","hour":0,"kwh":0.371},{"week":"2025-W34","hour":1,"kwh":0.352},{"week":"2025-W34","hour":2,"kwh":0.187},{"week":"2025-W34","hour":3,"kwh":0.166},{"week":"2025-W34","hour":21,"kwh":0.481},{"week":"2025-W34","hour":22,"kwh":0.683},{"week":"2025-W34","hour":23,"kwh":0.474},{"week":"2025-W35","hour":0,"kwh":0.934},{"week":"2025-W35","hour":1,"kwh":0.714},{"week":"2025-W35","hour":2,"kwh":0.833},{"week":"2025-W35","hour":3,"kwh":0.565},{"week":"2025-W35","hour":21,"kwh":0.66},{"week":"2025-W35","hour":22,"kwh":0.672},{"week":"2025-W35","hour":23,"kwh":0.593},{"week":"2025-W36","hour":0,"kwh":0.917},{"week":"2025-W36","hour":1,"kwh":0.87},{"week":"2025-W36","hour":2,"kwh":0.647},{"week":"2025-W36","hour":3,"kwh":0.409},{"week":"2025-W36","hour":21,"kwh":0.655},{"week":"2025-W36","hour":22,"kwh":1.126},{"week":"2025-W36","hour":23,"kwh":0.921},{"week":"2025-W37","hour":0,"kwh":1.04},{"week":"2025-W37","hour":1,"kwh":1.372},{"week":"2025-W37","hour":2,"kwh":0.634},{"week":"2025-W37","hour":3,"kwh":0.34},{"week":"2025-W37","hour":21,"kwh":0.963},{"week":"2025-W37","hour":22,"kwh":0.836},{"week":"2025-W37","hour":23,"kwh":1.086},{"week":"2025-W38","hour":0,"kwh":0.81},{"week":"2025-W38","hour":1,"kwh":1.181},{"week":"2025-W38","hour":2,"kwh":0.799},{"week":"2025-W38","hour":3,"kwh":0.557},{"week":"2025-W38","hour":21,"kwh":0.716},{"week":"2025-W38","hour":22,"kwh":0.903},{"week":"2025-W38","hour":23,"kwh":1.067},{"week":"2025-W39","hour":0,"kwh":0.729},{"week":"2025-W39","hour":1,"kwh":0.998},{"week":"2025-W39","hour":2,"kwh":0.848},{"week":"2025-W39","hour":3,"kwh":0.466},{"week":"2025-W39","hour":21,"kwh":0.684},{"week":"2025-W39","hour":22,"kwh":0.849},{"week":"2025-W39","hour":23,"kwh":0.98},{"week":"2025-W40","hour":0,"kwh":1.176},{"week":"2025-W40","hour":1,"kwh":0.79},{"week":"2025-W40","hour":2,"kwh":0.538},{"week":"2025-W40","hour":3,"kwh":0.309},{"week":"2025-W40","hour":21,"kwh":0.862},{"week":"2025-W40","hour":22,"kwh":1.535},{"week":"2025-W40","hour":23,"kwh":0.921},{"week":"2025-W41","hour":0,"kwh":0.744},{"week":"2025-W41","hour":1,"kwh":0.511},{"week":"2025-W41","hour":2,"kwh":0.767},{"week":"2025-W41","hour":3,"kwh":0.418},{"week":"2025-W41","hour":21,"kwh":0.816},{"week":"2025-W41","hour":22,"kwh":1.193},{"week":"2025-W41","hour":23,"kwh":1.03},{"week":"2025-W42","hour":0,"kwh":1.231},{"week":"2025-W42","hour":1,"kwh":1.206},{"week":"2025-W42","hour":2,"kwh":0.676},{"week":"2025-W42","hour":3,"kwh":0.295},{"week":"2025-W42","hour":21,"kwh":0.734},{"week":"2025-W42","hour":22,"kwh":0.976},{"week":"2025-W42","hour":23,"kwh":1.029},{"week":"2025-W43","hour":0,"kwh":1.114},{"week":"2025-W43","hour":1,"kwh":1.228},{"week":"2025-W43","hour":2,"kwh":0.763},{"week":"2025-W43","hour":3,"kwh":0.532},{"week":"2025-W43","hour":21,"kwh":0.507},{"week":"2025-W43","hour":22,"kwh":0.909},{"week":"2025-W43","hour":23,"kwh":1.044},{"week":"2025-W44","hour":0,"kwh":1.257},{"week":"2025-W44","hour":1,"kwh":1.081},{"week":"2025-W44","hour":2,"kwh":0.731},{"week":"2025-W44","hour":3,"kwh":0.486},{"week":"2025-W44","hour":21,"kwh":0.81},{"week":"2025-W44","hour":22,"kwh":1.157},{"week":"2025-W44","hour":23,"kwh":1.272},{"week":"2025-W45","hour":0,"kwh":0.968},{"week":"2025-W45","hour":1,"kwh":0.688},{"week":"2025-W45","hour":2,"kwh":0.701},{"week":"2025-W45","hour":3,"kwh":0.377},{"week":"2025-W45","hour":21,"kwh":0.57},{"week":"2025-W45","hour":22,"kwh":0.592},{"week":"2025-W45","hour":23,"kwh":1.022},{"week":"2025-W46","hour":0,"kwh":1.261},{"week":"2025-W46","hour":1,"kwh":1.247},{"week":"2025-W46","hour":2,"kwh":0.757},{"week":"2025-W46","hour":3,"kwh":0.598},{"week":"2025-W46","hour":21,"kwh":0.462},{"week":"2025-W46","hour":22,"kwh":0.708},{"week":"2025-W46","hour":23,"kwh":1.229},{"week":"2025-W47","hour":0,"kwh":1.336},{"week":"2025-W47","hour":1,"kwh":1.044},{"week":"2025-W47","hour":2,"kwh":0.78},{"week":"2025-W47","hour":3,"kwh":0.525},{"week":"2025-W47","hour":21,"kwh":1.439},{"week":"2025-W47","hour":22,"kwh":1.294},{"week":"2025-W47","hour":23,"kwh":1.423},{"week":"2025-W48","hour":0,"kwh":1.456},{"week":"2025-W48","hour":1,"kwh":0.846},{"week":"2025-W48","hour":2,"kwh":0.511},{"week":"2025-W48","hour":3,"kwh":0.508},{"week":"2025-W48","hour":21,"kwh":1.143},{"week":"2025-W48","hour":22,"kwh":0.913},{"week":"2025-W48","hour":23,"kwh":0.857},{"week":"2025-W49","hour":0,"kwh":1.006},{"week":"2025-W49","hour":1,"kwh":0.682},{"week":"2025-W49","hour":2,"kwh":0.406},{"week":"2025-W49","hour":3,"kwh":0.39},{"week":"2025-W49","hour":21,"kwh":1.208},{"week":"2025-W49","hour":22,"kwh":1.152},{"week":"2025-W49","hour":23,"kwh":1.478},{"week":"2025-W50","hour":0,"kwh":0.999},{"week":"2025-W50","hour":1,"kwh":0.831},{"week":"2025-W50","hour":2,"kwh":0.374},{"week":"2025-W50","hour":3,"kwh":0.21},{"week":"2025-W50","hour":21,"kwh":1.217},{"week":"2025-W50","hour":22,"kwh":0.961},{"week":"2025-W50","hour":23,"kwh":0.769},{"week":"2025-W51","hour":0,"kwh":1.225},{"week":"2025-W51","hour":1,"kwh":0.925},{"week":"2025-W51","hour":2,"kwh":0.451},{"week":"2025-W51","hour":3,"kwh":0.419},{"week":"2025-W51","hour":21,"kwh":1.04},{"week":"2025-W51","hour":22,"kwh":1.298},{"week":"2025-W51","hour":23,"kwh":1.412},{"week":"2025-W52","hour":0,"kwh":1.088},{"week":"2025-W52","hour":1,"kwh":1.1},{"week":"2025-W52","hour":2,"kwh":0.714},{"week":"2025-W52","hour":3,"kwh":0.507},{"week":"2025-W52","hour":21,"kwh":1.269},{"week":"2025-W52","hour":22,"kwh":0.641},{"week":"2025-W52","hour":23,"kwh":0.878},{"week":"2026-W01","hour":0,"kwh":1.093},{"week":"2026-W01","hour":1,"kwh":0.812},{"week":"2026-W01","hour":2,"kwh":0.894},{"week":"2026-W01","hour":3,"kwh":0.412},{"week":"2026-W01","hour":21,"kwh":1.688},{"week":"2026-W01","hour":22,"kwh":1.297},{"week":"2026-W01","hour":23,"kwh":1.252},{"week":"2026-W02","hour":0,"kwh":1.133},{"week":"2026-W02","hour":1,"kwh":1.084},{"week":"2026-W02","hour":2,"kwh":0.804},{"week":"2026-W02","hour":3,"kwh":0.486},{"week":"2026-W02","hour":21,"kwh":1.345},{"week":"2026-W02","hour":22,"kwh":1.344},{"week":"2026-W02","hour":23,"kwh":1.008},{"week":"2026-W03","hour":0,"kwh":1.01},{"week":"2026-W03","hour":1,"kwh":1.273},{"week":"2026-W03","hour":2,"kwh":0.773},{"week":"2026-W03","hour":3,"kwh":0.502},{"week":"2026-W03","hour":21,"kwh":1.382},{"week":"2026-W03","hour":22,"kwh":1.264},{"week":"2026-W03","hour":23,"kwh":1.281},{"week":"2026-W04","hour":0,"kwh":1.543},{"week":"2026-W04","hour":1,"kwh":1.004},{"week":"2026-W04","hour":2,"kwh":0.895},{"week":"2026-W04","hour":3,"kwh":0.569},{"week":"2026-W04","hour":21,"kwh":1.181},{"week":"2026-W04","hour":22,"kwh":1.145},{"week":"2026-W04","hour":23,"kwh":1.224},{"week":"2026-W05","hour":0,"kwh":1.458},{"week":"2026-W05","hour":1,"kwh":1.031},{"week":"2026-W05","hour":2,"kwh":0.741},{"week":"2026-W05","hour":3,"kwh":0.63},{"week":"2026-W05","hour":21,"kwh":1.165},{"week":"2026-W05","hour":22,"kwh":1.208},{"week":"2026-W05","hour":23,"kwh":1.105},{"week":"2026-W06","hour":0,"kwh":1.142},{"week":"2026-W06","hour":1,"kwh":1.237},{"week":"2026-W06","hour":2,"kwh":0.944},{"week":"2026-W06","hour":3,"kwh":0.673},{"week":"2026-W06","hour":21,"kwh":1.316},{"week":"2026-W06","hour":22,"kwh":0.817},{"week":"2026-W06","hour":23,"kwh":1.069},{"week":"2026-W07","hour":0,"kwh":1.577},{"week":"2026-W07","hour":1,"kwh":0.737},{"week":"2026-W07","hour":2,"kwh":0.406},{"week":"2026-W07","hour":3,"kwh":0.441},{"week":"2026-W07","hour":21,"kwh":1.45},{"week":"2026-W07","hour":22,"kwh":0.85},{"week":"2026-W07","hour":23,"kwh":1.166}],"low_profiles":{"night_low":[{"slot":"00:00","kwh":0.22},{"slot":"00:30","kwh":0.44},{"slot":"01:00","kwh":0.058},{"slot":"01:30","kwh":0.049},{"slot":"02:00","kwh":0.062},{"slot":"02:30","kwh":0.163},{"slot":"03:00","kwh":0.053},{"slot":"03:30","kwh":0.101},{"slot":"04:00","kwh":0.055},{"slot":"04:30","kwh":0.055},{"slot":"05:00","kwh":0.06},{"slot":"05:30","kwh":0.063},{"slot":"06:00","kwh":0.107},{"slot":"06:30","kwh":0.063},{"slot":"07:00","kwh":0.055},{"slot":"07:30","kwh":0.06},{"slot":"08:00","kwh":0.055},{"slot":"08:30","kwh":0.047},{"slot":"09:00","kwh":0.064},{"slot":"09:30","kwh":0.453},{"slot":"10:00","kwh":0.077},{"slot":"10:30","kwh":0.075},{"slot":"11:00","kwh":0.064},{"slot":"11:30","kwh":0.058},{"slot":"12:00","kwh":0.066},{"slot":"12:30","kwh":0.062},{"slot":"13:00","kwh":0.068},{"slot":"13:30","kwh":0.055},{"slot":"14:00","kwh":0.067},{"slot":"14:30","kwh":0.063},{"slot":"15:00","kwh":0.059},{"slot":"15:30","kwh":0.064},{"slot":"16:00","kwh":0.058},{"slot":"16:30","kwh":0.066},{"slot":"17:00","kwh":0.055},{"slot":"17:30","kwh":0.069},{"slot":"18:00","kwh":0.061},{"slot":"18:30","kwh":0.062},{"slot":"19:00","kwh":0.061},{"slot":"19:30","kwh":0.06},{"slot":"20:00","kwh":0.082},{"slot":"20:30","kwh":0.467},{"slot":"21:00","kwh":1.2},{"slot":"21:30","kwh":0.436},{"slot":"22:00","kwh":0.071},{"slot":"22:30","kwh":0.073},{"slot":"23:00","kwh":0.499},{"slot":"23:30","kwh":0.095}],"cozy_low":[{"slot":"00:00","kwh":0.039},{"slot":"00:30","kwh":0.037},{"slot":"01:00","kwh":0.036},{"slot":"01:30","kwh":0.04},{"slot":"02:00","kwh":0.04},{"slot":"02:30","kwh":0.034},{"slot":"03:00","kwh":0.036},{"slot":"03:30","kwh":0.038},{"slot":"04:00","kwh":0.265},{"slot":"04:30","kwh":0.214},{"slot":"05:00","kwh":0.227},{"slot":"05:30","kwh":0.035},{"slot":"06:00","kwh":0.595},{"slot":"06:30","kwh":0.038},{"slot":"07:00","kwh":0.033},{"slot":"07:30","kwh":0.039},{"slot":"08:00","kwh":0.03},{"slot":"08:30","kwh":0.039},{"slot":"09:00","kwh":0.032},{"slot":"09:30","kwh":0.037},{"slot":"10:00","kwh":0.035},{"slot":"10:30","kwh":0.034},{"slot":"11:00","kwh":0.038},{"slot":"11:30","kwh":0.031},{"slot":"12:00","kwh":0.041},{"slot":"12:30","kwh":0.03},{"slot":"13:00","kwh":0.255},{"slot":"13:30","kwh":0.168},{"slot":"14:00","kwh":0.218},{"slot":"14:30","kwh":0.036},{"slot":"15:00","kwh":0.033},{"slot":"15:30","kwh":0.202},{"slot":"16:00","kwh":0.031},{"slot":"16:30","kwh":0.04},{"slot":"17:00","kwh":0.031},{"slot":"17:30","kwh":0.039},{"slot":"18:00","kwh":0.034},{"slot":"18:30","kwh":0.035},{"slot":"19:00","kwh":0.037},{"slot":"19:30","kwh":0.033},{"slot":"20:00","kwh":0.038},{"slot":"20:30","kwh":0.03},{"slot":"21:00","kwh":0.04},{"slot":"21:30","kwh":0.03},{"slot":"22:00","kwh":0.363},{"slot":"22:30","kwh":0.192},{"slot":"23:00","kwh":0.199},{"slot":"23:30","kwh":0.164}],"current_low":[{"slot":"00:00","kwh":0.715},{"slot":"00:30","kwh":0.238},{"slot":"01:00","kwh":0.33},{"slot":"01:30","kwh":0.247},{"slot":"02:00","kwh":0.381},{"slot":"02:30","kwh":1.246},{"slot":"03:00","kwh":0.503},{"slot":"03:30","kwh":0.346},{"slot":"04:00","kwh":0.092},{"slot":"04:30","kwh":0.397},{"slot":"05:00","kwh":0.088},{"slot":"05:30","kwh":0.092},{"slot":"06:00","kwh":0.183},{"slot":"06:30","kwh":0.226},{"slot":"07:00","kwh":0.22},{"slot":"07:30","kwh":0.129},{"slot":"08:00","kwh":0.211},{"slot":"08:30","kwh":0.252},{"slot":"09:00","kwh":0.398},{"slot":"09:30","kwh":0.57},{"slot":"10:00","kwh":0.481},{"slot":"10:30","kwh":0.408},{"slot":"11:00","kwh":0.101},{"slot":"11:30","kwh":0.104},{"slot":"12:00","kwh":0.095},{"slot":"12:30","kwh":0.101},{"slot":"13:00","kwh":0.21},{"slot":"13:30","kwh":0.17},{"slot":"14:00","kwh":0.09},{"slot":"14:30","kwh":0.199},{"slot":"15:00","kwh":0.095},{"slot":"15:30","kwh":0.101},{"slot":"16:00","kwh":0.106},{"slot":"16:30","kwh":0.178},{"slot":"17:00","kwh":0.436},{"slot":"17:30","kwh":0.163},{"slot":"18:00","kwh":0.434},{"slot":"18:30","kwh":0.224},{"slot":"19:00","kwh":0.556},{"slot":"19:30","kwh":0.246},{"slot":"20:00","kwh":0.364},{"slot":"20:30","kwh":0.237},{"slot":"21:00","kwh":0.395},{"slot":"21:30","kwh":1.152},{"slot":"22:00","kwh":0.314},{"slot":"22:30","kwh":0.275},{"slot":"23:00","kwh":0.226},{"slot":"23:30","kwh":0.655}]},"element":[{"month":"2025-03","on_hours":3.1,"heater_kwh":9.6,"avg_kw":3.11},{"month":"2025-04","on_hours":3.9,"heater_kwh":12.3,"avg_kw":3.11},{"month":"2025-05","on_hours":3.5,"heater_kwh":10.8,"avg_kw":3.11},{"month":"2025-06","on_hours":4.2,"heater_kwh":13.1,"avg_kw":3.11},{"month":"2025-07","on_hours":2.7,"heater_kwh":8.5,"avg_kw":3.11},{"month":"2025-08","on_hours":3.0,"heater_kwh":9.2,"avg_kw":3.11},{"month":"2025-09","on_hours":5.1,"heater_kwh":16.0,"avg_kw":3.11},{"month":"2025-10","on_hours":5.8,"heater_kwh":17.9,"avg_kw":3.11},{"month":"2025-11","on_hours":5.8,"heater_kwh":17.9,"avg_kw":3.11},{"month":"2025-12","on_hours":5.5,"heater_kwh":17.1,"avg_kw":3.11},{"month":"2026-01","on_hours":6.8,"heater_kwh":21.2,"avg_kw":3.11},{"month":"2026-02","on_hours":6.3,"heater_kwh":19.5,"avg_kw":3.11}],"cost":{"monthly":[{"month":"2025-03","heater_gbp":62.45,"household_gbp":36.03,"total_gbp":98.48,"heater_pct":63.4},{"month":"2025-04","heater_gbp":64.21,"household_gbp":31.23,"total_gbp":95.44,"heater_pct":67.3},{"month":"2025-05","heater_gbp":50.49,"household_gbp":28.46,"total_gbp":78.96,"heater_pct":64.0},{"month":"2025-06","heater_gbp":58.39,"household_gbp":30.52,"total_gbp":88.91,"heater_pct":65.7},{"month":"2025-07","heater_gbp":46.6,"household_gbp":33.38,"total_gbp":79.98,"heater_pct":58.3},{"month":"2025-08","heater_gbp":44.67,"household_gbp":30.59,"total_gbp":75.26,"heater_pct":59.4},{"month":"2025-09","heater_gbp":66.15,"household_gbp":31.35,"total_gbp":97.5,"heater_pct":67.8},{"month":"2025-10","heater_gbp":80.61,"household_gbp":34.91,"total_gbp":115.52,"heater_pct":69.8},{"month":"2025-11","heater_gbp":89.74,"household_gbp":37.61,"total_gbp":127.35,"heater_pct":70.5},{"month":"2025-12","heater_gbp":85.97,"household_gbp":37.19,"total_gbp":123.16,"heater_pct":69.8},{"month":"2026-01","heater_gbp":130.53,"household_gbp":47.13,"total_gbp":177.66,"heater_pct":73.5},{"month":"2026-02","heater_gbp":55.6,"household_gbp":21.54,"total_gbp":77.14,"heater_pct":72.1}]}};
{

const CYAN = '#00d2ff';
const CYAN50 = 'rgba(0,210,255,0.5)';
const GREY = '#7f8fa6';
const GREY50 = 'rgba(127,143,166,0.5)';
const RED = '#ff6b6b';
const RED50 = 'rgba(255,107,107,0.5)';
const ORANGE = '#ffa502';
const ORANGE50 = 'rgba(255,165,2,0.5)';
const YELLOW = '#ffd32a';
const WHITE = '#ffffff';
const GRID = 'rgba(255,255,255,0.06)';
const FONT = '#a4b0be';
Chart.defaults.color = FONT;
Chart.defaults.borderColor = GRID;
Chart.defaults.font.family = "'Segoe UI', system-ui, sans-serif";

// ===== CHART 1: Monthly decomposition =====
new Chart(document.getElementById('chart1'), {
  type: 'bar',
  data: {
    labels: D.monthly.map(m => m.month),
    datasets: [
      { label: 'Heater (3.11 kW element)', data: D.monthly.map(m => m.heater),
        backgroundColor: CYAN50, borderColor: CYAN, borderWidth: 1 },
      { label: 'Household (baseline)', data: D.monthly.map(m => m.other),
        backgroundColor: GREY50, borderColor: GREY, borderWidth: 1 },
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    scales: {
      x: { stacked: true },
      y: { stacked: true, title: { display:true, text:'Avg kWh / day' } }
    },
    plugins: { legend: { position: 'top' } }
  }
});

// ===== CHART 2: Element on-time =====
new Chart(document.getElementById('chart2'), {
  type: 'bar',
  data: {
    labels: D.element.map(e => e.month),
    datasets: [
      { label: 'Element On-Time (h/day)', data: D.element.map(e => e.on_hours),
        backgroundColor: CYAN50, borderColor: CYAN, borderWidth: 1, yAxisID: 'y' },
      { label: 'Avg kW When On', data: D.element.map(e => e.avg_kw),
        type: 'line', borderColor: YELLOW, backgroundColor: 'transparent',
        pointRadius: 4, pointBackgroundColor: YELLOW, yAxisID: 'y1', borderWidth: 2 }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    scales: {
      y: { title: { display:true, text:'Hours / day' }, beginAtZero:true },
      y1: { position:'right', title: { display:true, text:'kW' }, min:0, max:4, grid:{display:false} }
    }
  }
});
// Populate table
const tbody = document.querySelector('#elementTable tbody');
D.element.forEach(e => {
  const tr = document.createElement('tr');
  tr.innerHTML = `<td>${e.month}</td><td>${e.on_hours}</td><td>${e.heater_kwh}</td><td>${e.avg_kw}</td>`;
  tbody.appendChild(tr);
});

// ===== CHART 3: Half-hourly profiles (4 regimes) =====
new Chart(document.getElementById('chart3'), {
  type: 'line',
  data: {
    labels: D.profiles.night.map(p => p.slot),
    datasets: [
      { label: 'Night-only (Mar 2025)', data: D.profiles.night.map(p => p.mean),
        borderColor: RED, backgroundColor: 'transparent', tension: 0.3, borderWidth: 2, pointRadius: 0 },
      { label: 'Cozy 3-window (May\u2013Jun 2025)', data: D.profiles.cozy.map(p => p.mean),
        borderColor: ORANGE, backgroundColor: 'transparent', tension: 0.3, borderWidth: 2, pointRadius: 0 },
      { label: 'Summer (Jul\u2013Aug 2025)', data: D.profiles.summer.map(p => p.mean),
        borderColor: GREY, backgroundColor: 'transparent', borderDash: [5,5], tension: 0.3, borderWidth: 1.5, pointRadius: 0 },
      { label: 'Current winter (Dec 2025\u2013Feb 2026)', data: D.profiles.current_winter.map(p => p.mean),
        borderColor: CYAN, backgroundColor: CYAN50, fill: true, tension: 0.3, borderWidth: 2, pointRadius: 0 },
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    scales: {
      x: { title: { display:true, text:'Time of day (UK local)' },
           ticks: { maxTicksLimit: 24, callback: function(v,i) { return i%2===0 ? this.getLabelForValue(v) : ''; } } },
      y: { title: { display:true, text:'Avg kWh per half-hour' }, beginAtZero:true }
    },
    interaction: { intersect: false, mode: 'index' },
    plugins: { legend: { position: 'top' } }
  }
});

// ===== CHART 4a/4b/4c: Firing events (3 regimes) =====
const hours = Array.from({length:24}, (_,i) => `${String(i).padStart(2,'0')}:00`);
function firingChart(id, data, color, label) {
  const bg = color === CYAN ? CYAN50 : color === RED ? RED50 : ORANGE50;
  new Chart(document.getElementById(id), {
    type: 'bar',
    data: {
      labels: hours,
      datasets: [{
        label: label, data: hours.map((_,i) => data[i] || 0),
        backgroundColor: bg, borderColor: color, borderWidth: 1
      }]
    },
    options: {
      responsive: true, maintainAspectRatio: false,
      scales: {
        x: { ticks: { maxTicksLimit: 12 } },
        y: { title: { display:true, text:'Events/day' }, beginAtZero:true, max:2.0 }
      },
      plugins: { legend: { display: false } }
    }
  });
}
firingChart('chart4a', D.firing.night, RED, 'Night-only');
firingChart('chart4b', D.firing.cozy, ORANGE, 'Cozy');
firingChart('chart4c', D.firing.current, CYAN, 'Current');

// ===== CHART 5: Distribution =====
const distStyle = {
  'Mar 2025 (night)':    { bg: RED50,    border: RED    },
  'May 2025 (cozy)':     { bg: ORANGE50, border: ORANGE },
  'Jan 2026 (current)':  { bg: CYAN50,   border: CYAN   },
};
new Chart(document.getElementById('chart5'), {
  type: 'bar',
  data: {
    labels: D.dist_labels,
    datasets: Object.keys(D.distributions).map(k => ({
      label: k, data: D.distributions[k],
      backgroundColor: (distStyle[k]||{}).bg || GREY50,
      borderColor: (distStyle[k]||{}).border || GREY, borderWidth: 1
    }))
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    scales: {
      x: { title: { display:true, text:'kWh per half-hour slot' },
           ticks: { maxTicksLimit: 18, callback: function(v,i) { return i%3===0 ? this.getLabelForValue(v) : ''; } } },
      y: { title: { display:true, text:'Number of readings' } }
    },
    plugins: { legend: { position: 'top' } }
  }
});

// ===== CHART 6: Daily timeline with regime markers =====
const regimePlugin = {
  id: 'regimeLines',
  afterDraw(chart) {
    const xScale = chart.scales.x;
    const {top, bottom} = chart.chartArea;
    const ctx = chart.ctx;
    const dates = D.daily.map(d => d.date);
    [[dates.indexOf('2025-04-10'), 'Night\u2192Cozy', ORANGE],
     [dates.indexOf('2025-08-26'), 'Cozy\u2192Current', CYAN]].forEach(([idx, label, color]) => {
      if (idx < 0) return;
      const x = xScale.getPixelForValue(idx);
      ctx.save();
      ctx.strokeStyle = color;
      ctx.lineWidth = 1.5;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(x, top);
      ctx.lineTo(x, bottom);
      ctx.stroke();
      ctx.fillStyle = color;
      ctx.font = '11px sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(label, x, top - 5);
      ctx.restore();
    });
  }
};
new Chart(document.getElementById('chart6'), {
  type: 'bar',
  data: {
    labels: D.daily.map(d => d.date),
    datasets: [
      { label: 'Heater', data: D.daily.map(d => d.heater),
        backgroundColor: CYAN50, borderColor: 'transparent', borderWidth: 0, barPercentage: 1.0, categoryPercentage: 1.0 },
      { label: 'Household', data: D.daily.map(d => d.other),
        backgroundColor: GREY50, borderColor: 'transparent', borderWidth: 0, barPercentage: 1.0, categoryPercentage: 1.0 },
      { label: '7-day avg', data: D.daily.map(d => d.rolling7),
        type: 'line', borderColor: WHITE, backgroundColor: 'transparent',
        pointRadius: 0, borderWidth: 1.5, tension: 0.3, spanGaps: true }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    scales: {
      x: { stacked: true, ticks: { maxTicksLimit: 13, callback: function(v,i) {
        const d = D.daily[i]?.date; return d ? d.substring(0,7) : '';
      } } },
      y: { stacked: true, title: { display:true, text:'kWh / day' } }
    }
  },
  plugins: [regimePlugin]
});

// ===== CHART 7: Low-day profiles (3 regimes) =====
new Chart(document.getElementById('chart7'), {
  type: 'bar',
  data: {
    labels: D.low_profiles.night_low.map(p => p.slot),
    datasets: [
      { label: 'Night quietest (Apr 7, 6.5 kWh)', data: D.low_profiles.night_low.map(p => p.kwh),
        backgroundColor: RED50, borderColor: RED, borderWidth: 1 },
      { label: 'Cozy quietest (May 5, 4.3 kWh)', data: D.low_profiles.cozy_low.map(p => p.kwh),
        backgroundColor: ORANGE50, borderColor: ORANGE, borderWidth: 1 },
      { label: 'Current quietest (Nov 7, 15.0 kWh)', data: D.low_profiles.current_low.map(p => p.kwh),
        backgroundColor: CYAN50, borderColor: CYAN, borderWidth: 1 },
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    scales: {
      x: { ticks: { maxTicksLimit: 24, callback: function(v,i) { return i%4===0 ? this.getLabelForValue(v) : ''; } } },
      y: { title: { display:true, text:'kWh' }, beginAtZero:true }
    }
  }
});

// ===== CHART 9: Overnight heatmap (matrix as grouped bars) =====
{
  const hourLabels = ['21:00','22:00','23:00','00:00','01:00','02:00','03:00'];
  const hourOrder = [21,22,23,0,1,2,3];
  const weeks = [...new Set(D.heatmap.map(h => h.week))].sort();
  const lookup = {};
  D.heatmap.forEach(h => { lookup[h.week + '_' + h.hour] = h.kwh; });

  const heatColors = ['#ff6b6b','#00d2ff','#00b4d8','#0096c7','#0077b6','#023e8a','#03045e'];
  const heatBg = ['rgba(255,107,107,0.7)','rgba(0,210,255,0.7)','rgba(0,180,216,0.7)','rgba(0,150,199,0.7)','rgba(0,119,182,0.7)','rgba(2,62,138,0.7)','rgba(3,4,94,0.7)'];
  const datasets = hourOrder.map((hr, idx) => ({
    label: hourLabels[idx],
    data: weeks.map(w => lookup[w + '_' + hr] || 0),
    backgroundColor: heatBg[idx],
    borderColor: heatColors[idx],
    borderWidth: 0.5,
    barPercentage: 1.0,
    categoryPercentage: 0.9,
  }));

  new Chart(document.getElementById('chart9'), {
    type: 'bar',
    data: { labels: weeks, datasets },
    options: {
      responsive: true, maintainAspectRatio: false,
      scales: {
        x: { stacked: true, ticks: { maxTicksLimit: 14, callback: function(v,i) { return i%4===0 ? weeks[i] : ''; } } },
        y: { stacked: true, title: { display:true, text:'Avg kWh (overnight total)' }, beginAtZero:true }
      },
      plugins: { legend: { position:'top' } }
    }
  });
}

// ===== CHART 10: Monthly cost breakdown =====
{
  const labels = D.cost.monthly.map(m => m.month);
  new Chart(document.getElementById('chart10'), {
    type: 'bar',
    data: {
      labels,
      datasets: [
        { label: 'Heater cost (\u00a3)', data: D.cost.monthly.map(m => m.heater_gbp),
          backgroundColor: CYAN50, borderColor: CYAN, borderWidth: 1 },
        { label: 'Household cost (\u00a3)', data: D.cost.monthly.map(m => m.household_gbp),
          backgroundColor: GREY50, borderColor: GREY, borderWidth: 1 },
        { label: 'Heater % of total', data: D.cost.monthly.map(m => m.heater_pct),
          type: 'line', borderColor: YELLOW, backgroundColor: 'transparent',
          pointRadius: 4, pointBackgroundColor: YELLOW, yAxisID: 'y1', borderWidth: 2 },
      ]
    },
    options: {
      responsive: true, maintainAspectRatio: false,
      scales: {
        x: { stacked: true },
        y: { stacked: true, title: { display:true, text:'\u00a3 / month' } },
        y1: { position:'right', title: { display:true, text:'Heater %' }, min:0, max:80, grid:{display:false} }
      },
      plugins: { legend: { position:'top' } }
    }
  });
}

} // end data scope
</script>
</body>
</html>